"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[502],{54502:(e,t,i)=>{i.r(t),i.d(t,{DepthChart:()=>D,default:()=>C});var s=i(52322),o=i(2784),r=i(7688),n=i(17335),a=i(671),c=i(82732),l=i(4673),h=i(20115),u=i(82696),d=i(84183),p=i(5848),b=i(11682),m=i(21367),g=i(39727);const v=({price:e,depth:t,amount:i,total:s})=>({xData:+e,yData:t});var f=i(75853);const y=({price:e,depth:t})=>({xData:t,yData:+e}),k=({symbol:e,width:t,height:i,forceHorizontalMode:r=!1})=>{const k="light"===(0,c.Fg)()?a.ib:a.Cs,D=(0,c.Vh)()[e],{pricePrecision:C,isDelivery:M}=D||{},{scale:j,setScale:w}=(0,f.p)(),{asks:x,bids:z}=function(e,t=!1,i=v){const s=(e=>{var t;const i=(0,g.v9)((e=>e.exchangeInfo.infos))[e];return"BTCUSDT"===e?"1":(null===(t=null==i?void 0:i.levels)||void 0===t?void 0:t.slice(-2)[0])||"0.1"})(e),r=(e=>{const{tickSize:t,equalQtyPrecision:i}=e||{},s=(0,d.p)(Number(t)),{getQuantity:r}=(0,p.s7)(e),{getQuantity:n}=(0,b.s)(e);return(0,o.useCallback)((({quantity:e,price:t,format:o=!1})=>{const a={quantity:e,price:t,format:o};return(0,l.nM)()?n(Object.assign(Object.assign({},a),{func:u.GW,precision:i||2})):r(Object.assign(Object.assign({},a),{func:u.mD,precision:s||2}))}),[i,n,r,s])})((0,h.j2)()),n=(t=(0,l.nM)()||t)?(0,l.RU)():(0,l.BN)(),a=(0,m.H0)(e,n,{level:s,isDelivery:t}),c=(0,m.d)(e,n,{level:s,isDelivery:t});return{asks:(0,o.useMemo)((()=>{let e=0;const t=[];for(let i=a.length-1;i>=0;i--){const s=a[i];e+=Number(r({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[a,r,i]),bids:(0,o.useMemo)((()=>{let e=0;const t=[];for(let i=0,s=c.length;i<s;i++){const s=c[i];e+=Number(r({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[c,r,i])}}(e,M,i>t?y:void 0),H=(0,o.useMemo)((()=>"BTCUSDT"===e?0:C-1),[e,C]);return(0,s.jsx)(n.k.Containers.DepthChart,{symbol:e,theme:k,asks:x,bids:z,width:t,height:i,pricePrecision:C,filterPricePrecision:H,scale:j,setScale:w,mode:r?n.k.DepthChartMode.Horizontal:i>t?n.k.DepthChartMode.Vertical:n.k.DepthChartMode.Horizontal},void 0)},D=({symbol:e,forceHorizontalMode:t})=>(0,s.jsx)(r.Z,{children:({width:i,height:o})=>(0,s.jsx)(k,{symbol:e,width:i,height:o,forceHorizontalMode:t},void 0)},void 0),C=D}}]);