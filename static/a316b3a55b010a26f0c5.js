"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[666],{83582:(e,t,n)=>{n.d(t,{t:()=>i});var o=n(5163),r=n(2784),a=n(35635),i=r.forwardRef((function(e,t){var n=e.active,i=e.hidden,l=void 0!==i&&i,u=(0,o.__rest)(e,["active","hidden"]);return l?null:r.createElement(a.Z,(0,o.__assign)({},u,{sx:(0,o.__assign)({alignItems:"center",justifyContent:"center",color:n?"t.yellow":"t.third",cursor:"pointer",fontSize:0,lineHeight:"16px",p:"minor",borderRadius:"2px","&:hover":{color:"t.yellow"}},u.sx),ref:t}))}))},32666:(e,t,n)=>{n.r(t),n.d(t,{IntervalFilterMedium:()=>S,default:()=>B});var o=n(5163),r=n(2784),a=n(65403),i=n(30898),l=n.n(i),u=n(35635),c=n(26182),s=n(83582),d=function(e){var t=e.text,n=e.value,o=e.active,a=e.onClick,i=e.onObscured,l=e.onRevealed,u=(0,r.useRef)(null),d=(0,c.Z)(u,{root:null,rootMargin:"0px",threshold:1});return(0,r.useEffect)((function(){d&&(d.intersectionRatio<1?i(n):l(n))}),[d]),r.createElement(s.t,{id:n,active:o,onClick:a,ref:u,sx:{mr:2}},t)},p=n(76743),v=n(20952),x=n(20512),f=function(e){var t=e.dropdownExpanded,n=e.onDropdownMouseEnter,o=e.onDropdownMouseLeave,a=e.onDropdownButtonClick,i=e.isDropdownButtonActive,l=e.dropdownText,c=e.overlay;return r.createElement(v.Z,{open:t,onMouseEnter:n,onMouseLeave:o,overlay:c,sx:{position:"relative",height:"24px",flex:"1 0 auto",mr:2,"&:hover":{".interval-expand-btn":{color:"t.primary",transform:"rotate(180deg)"}}},enablePortal:!0},r.createElement(s.t,{onClick:a,sx:{width:"100%",height:"100%"},active:i},r.createElement(u.Z,{sx:{alignItems:"center",justifyContent:"center"}},l&&r.createElement(x.Z,null,l),r.createElement(p.Z,{className:"interval-expand-btn",size:3,sx:{color:"t.third",transition:"transform .2s, color .2s","&:not(:first-of-type)":{marginLeft:"4px"}}}))))},m=n(57808),h=n(52613),g=n(9541),w=function(e){var t=e.onChange,n=e.value,o=e.checked,a=e.checkboxSize,i=void 0===a?13:a;return r.createElement(h.Z,{sx:{position:"absolute",top:"-"+i/2+"px",right:"-"+i/2+"px"}},r.createElement("input",{type:"checkbox",value:n,onChange:t,hidden:!0}),r.createElement(u.Z,{sx:{alignItems:"center",justifyContent:"center",width:"16px",height:"16px",borderRadius:"100%",background:function(e){return o?e.colors.primary:e.colors.t.placeholder}}},r.createElement(g.Z,{color:"modalBg",size:i})))},k=n(72951),E=function(e){var t=e.showCheckbox,n=e.checked,o=e.value,a=e.onChange,i=e.onClick,l=e.children,u=e.className,c=void 0===u?"interval-option":u;return r.createElement(m.Z,{className:c,onClick:i,alignItems:"center",justifyContent:"center",sx:{fontWeight:"normal",fontSize:"14px",lineHeight:1.43,color:"t.primary",width:"60px",height:"24px",position:"relative",transition:"background-color 0.2s ease 0s",cursor:"pointer",bg:function(e){return n?(0,k.D)(e.colors.primary,.15):(0,k.D)(e.colors.line,.5)},"&:hover":{bg:function(e){return n?(0,k.D)(e.colors.primary,.3):e.colors.line}},borderRadius:"2px"}},r.createElement(x.Z,{sx:{color:n?"t.yellow":"t.primary",fontSize:"12px"}},l),t&&r.createElement(w,{onChange:a,value:o,checked:n}))},C=n(44520),D=function(e){var t=e.children,n=e.onClick;return r.createElement(C.Z,{sz:"s",sx:{lineHeight:"16px",fontSize:12,wordBreak:"keep-all",minHeight:"24px",border:"none",color:"primary",fontWeight:"normal",padding:"0",backgroundImage:"none",bg:"transparent","&:hover:not(:disabled):not(:active):not(.inactive)":{backgroundImage:"none"},"&:active:not(:disabled):not(.inactive)":{backgroundColor:"transparent"}},onClick:n},t)};function b(e){var t=e.options,n=e.onClickEdit,o=e.editText,a=e.title;return r.createElement(u.Z,{sx:{bg:"modalBg",marginTop:"8px",flexDirection:"column",boxShadow:"0px 0px 1px rgba(20, 21, 26, 0.1), 0px 7px 14px rgba(71, 77, 87, 0.08), 0px 3px 6px rgba(20, 21, 26, 0.08)",borderRadius:"4px",padding:"12px 16px 2px",width:"300px"}},r.createElement(u.Z,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"}},r.createElement(x.Z,{sx:{color:"t.third",fontSize:"12px"}},a),r.createElement(D,{onClick:n},o)),r.createElement(u.Z,{sx:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between","&>.interval-option":{marginBottom:"10px"}}},t.map((function(e){var t=e.text,n=e.value,o=e.showCheckbox,a=e.checked,i=e.onClick,l=e.onChange;return r.createElement(E,{key:n,value:n,checked:a,showCheckbox:o,onClick:i,onChange:l},t)}))))}var y=function(e){var t=e.dropdownExpanded,n=e.onDropdownMouseEnter,o=e.onDropdownMouseLeave,a=e.onDropdownButtonClick,i=e.isDropdownButtonActive,l=e.dropdownText,c=e.options,s=e.onClickEdit,p=e.editText,v=e.title,x=e.displayedOptions;return r.createElement(u.Z,{height:24},r.createElement(u.Z,{sx:{flexWrap:"wrap",overflow:"hidden",justifyContent:"space-between"}},x.map((function(e){var t=e.text,n=e.value,o=e.active,a=e.onClick,i=e.onObscured,l=e.onRevealed;return r.createElement(d,{key:n,text:t,value:n,active:o,onClick:a,onObscured:i,onRevealed:l})}))),r.createElement(f,{dropdownExpanded:t,onDropdownMouseEnter:n,onDropdownMouseLeave:o,onDropdownButtonClick:a,isDropdownButtonActive:i,dropdownText:l,overlay:r.createElement(b,{options:c,onClickEdit:s,editText:p,title:v})}))},_=function(){return null},I=function(e){var t=function(e){var t=e.options,n=e.value,a=e.isEditing,i=e.onClickEdit,l=e.title,u=e.saveText,c=e.editText,s=e.dropdownExpanded,d=e.onDropdownMouseEnter,p=e.onDropdownMouseLeave,v=e.onDropdownButtonClick,x=e.onClickItem,f=(0,o.__rest)(e,["options","value","isEditing","onClickEdit","title","saveText","editText","dropdownExpanded","onDropdownMouseEnter","onDropdownMouseLeave","onDropdownButtonClick","onClickItem"]),m=(0,o.__read)((0,r.useState)(t),2),h=m[0],g=m[1],w=(0,o.__read)((0,r.useState)({}),2),k=w[0],E=w[1];(0,r.useEffect)((function(){return g(t)}),[t]);var C=h.map((function(e){return{text:e.text,value:e.text,checked:e.selected,showCheckbox:a,onClick:a?_:function(){return x(e.value)},onChange:function(){return g((function(t){return t.map((function(t){return(0,o.__assign)((0,o.__assign)({},t),{selected:t.value===e.value?!t.selected:t.selected})}))}))}}})),D=t.filter((function(e){return e.selected})).map((function(e){return{text:e.text,value:e.value,active:e.value===n,onClick:function(){return x(e.value)},onObscured:function(e){E((function(t){var n=(0,o.__assign)({},t);return n[e]=!0,n}))},onRevealed:function(e){E((function(t){var n=(0,o.__assign)({},t);return n[e]=!1,n}))}}})),b=t.find((function(e){return e.value===n&&(!e.selected||k[e.value])}));return(0,o.__assign)({options:C,displayedOptions:D,editText:a?u:c,dropdownText:(null==b?void 0:b.text)||"",dropdownExpanded:s,onDropdownMouseEnter:d,onDropdownMouseLeave:function(e){g(t),p(e)},onDropdownButtonClick:function(){return v((null==b?void 0:b.value)||"")},title:l,isDropdownButtonActive:!!b,onClickEdit:function(){return i(h)}},f)}(e);return r.createElement(y,(0,o.__assign)({},t))},M=n(40213),T=n(25368),Z=n(32836),S=function(e){var t=e.namespace,n=(0,a.Z)("trd-chart","trade-ui").getI18n,i=(0,M.createStore)(t),u=(0,T.createStore)(t),c=(0,Z.J)({namespace:t}),s=c.options,d=c.setOptions,p=c.option,v=c.dropdownExpanded,x=c.setDropdownOpen,f=c.handleClickItem,m=(0,o.__read)(i(M.getSelectedIntervals),2)[1],h=(0,o.__read)(u(T.getEditingInterval),2),g=h[0],w=h[1],k=(0,r.useCallback)((function(e){if(g){d(e),x(!1);var t=l()(Object.values(M.DisplayIntervals),e.filter((function(e){return e.selected})).map((function(e){return e.value})));m(t)}w(!g)}),[g,w,d,x,m]),E=(0,r.useCallback)((function(){g||(x(!1),w(!1))}),[g,x,w]),C=(0,r.useMemo)((function(){return n("selectIntervals",{defaultValue:"Select Intervals"})||""}),[n]),D=(0,r.useMemo)((function(){return n("save",{defaultValue:"Save"})||""}),[n]),b=(0,r.useMemo)((function(){return n("edit",{defaultValue:"Edit"})||""}),[n]);return r.createElement(I,{options:s,value:p,isEditing:g,onClickEdit:k,title:C,saveText:D,editText:b,dropdownExpanded:v,onDropdownMouseEnter:function(){return x(!0)},onDropdownMouseLeave:E,onDropdownButtonClick:function(){return x(!0)},onClickItem:f})};const B=S},32836:(e,t,n)=>{n.d(t,{J:()=>u});var o=n(5163),r=n(2784),a=n(65403),i=n(40213),l=n(25368),u=function(e){var t=e.namespace,n=(0,a.Z)("trd-chart","trade-ui").getI18n,u=(0,i.createStore)(t),c=(0,l.createStore)(t),s=(0,o.__read)(u(i.getActiveTab),2),d=s[0],p=s[1],v=(0,o.__read)(u(i.getInterval),2),x=v[0],f=v[1],m=(0,o.__read)(u(i.getSelectedIntervals),1)[0],h=(0,o.__read)(c(l.getIntervalConfigOpen),2),g=h[0],w=h[1],k=(0,r.useMemo)((function(){return function(e){var t=e("line",{defaultValue:"Time"}),n=e("minute",{defaultValue:"m"}),o=e("hour",{defaultValue:"H"}),r=e("day",{defaultValue:"D"}),a=e("weekLine",{defaultValue:"W"}),l=e("monthLine",{defaultValue:"M"});return[{value:i.DisplayIntervals.Time,text:t},{value:i.DisplayIntervals["1m"],text:"1"+n},{value:i.DisplayIntervals["3m"],text:"3"+n},{value:i.DisplayIntervals["5m"],text:"5"+n},{value:i.DisplayIntervals["15m"],text:"15"+n},{value:i.DisplayIntervals["30m"],text:"30"+n},{value:i.DisplayIntervals["1h"],text:"1"+o},{value:i.DisplayIntervals["2h"],text:"2"+o},{value:i.DisplayIntervals["4h"],text:"4"+o},{value:i.DisplayIntervals["6h"],text:"6"+o},{value:i.DisplayIntervals["8h"],text:"8"+o},{value:i.DisplayIntervals["12h"],text:"12"+o},{value:i.DisplayIntervals["1d"],text:"1"+r},{value:i.DisplayIntervals["3d"],text:"3"+r},{value:i.DisplayIntervals["1w"],text:a},{value:i.DisplayIntervals["1M"],text:l}]}(n)}),[n]),E=(0,r.useMemo)((function(){return k.map((function(e){var t=e.value,n=e.text;return{value:t,text:void 0===n?"":n,selected:m.some((function(e){return e===t}))}}))}),[k,m]),C=(0,o.__read)((0,r.useState)(E),2),D=C[0],b=C[1];(0,r.useEffect)((function(){return b(E)}),[E]);var y=(0,r.useCallback)((function(e){w(!1),f(e),p(d===i.Tabs.Depth?i.Tabs.Origin:d)}),[w,f,p,d]);return{options:D,setOptions:b,option:x,dropdownExpanded:g,setDropdownOpen:w,handleClickItem:y}}}}]);