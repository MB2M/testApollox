"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[181],{39353:(e,t,n)=>{n.d(t,{Z:()=>L});var a=n(2867),o=n(2784),i=n(52261),s=n(41980),r=n(24399),l=n(78610),c=n(20512),d=n(23187),p=n(35635),u=n(52613),x=n(15836),b=n(78913),g=n(12167),h=n(62252),m=n(82732),v=n(68499),f=n(78705);const j={height:"64px",pt:"20px",bg:"moduleBg",position:"relative",cursor:"pointer",svg:{path:{fill:"t.secondary"},"&:hover":{opacity:.65}}},y={flexDirection:"column",width:"344px",height:"auto",fontSize:"sm",px:"sm",backgroundColor:"modalBg",color:"t.third",boxShadow:"elevation3",borderRadius:"16px",".bn-switch[aria-checked=false]":{bg:"bg3"},"& .customize-layout":{pb:2},"& .customize-title":{lineHeight:"20px",fontSize:"sm",color:f.BA[300]},"& .back-layout":{mt:"8px",mb:1,fontSize:0,display:"block",cursor:"pointer",color:"t.yellow","&:hover":{color:"primary"}},"& .component":{color:"t.primary",display:"flex",fontSize:1,lineHeight:"18px",py:"8px",justifyContent:"space-between","div:first-of-type":{display:"flex",lineHeight:"14px"}},"& .info":{cursor:"pointer",":hover":{color:"t.primary"}}},w={justifyContent:"space-between",alignItems:"center",height:"60px",width:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:"line"};var k=n(52322);e=n.hmd(e);var O,C=n(34406);(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&O(e);var Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=b.ll.enableThemeToggle,S=function(e){var t=e.widget,n=e.onChange,a=(0,o.useContext)(v.VY),i=a.layout,s=a.showFavourite,r="favourite"===t?s:!!i.find((function(e){return e.i===t})),c=(0,o.useCallback)((function(e){return n(e,t)}),[n,t]);return(0,o.useMemo)((function(){return(0,k.jsx)(l.Z,{size:16,checked:r,onChange:c,name:t,"data-testid":t,className:"bn-switch",color:"primary",back:!0})}),[r,c,t])};Z(S,"useContext{{ layout, showFavourite }}\nuseCallback{onChangeCb}\nuseMemo{}");var P=function(){var e=(0,h.ZK)().getI18n,t=(0,h.yk)().getI18n,n=v.mZ,r=(0,m.Xq)(),d=(0,o.useCallback)((function(e,t){var n=e.target.checked;r(t,n)}),[r]),p=(0,m.e5)(),u=(0,a.Z)(p,2),x=u[0],b=u[1],g=(0,o.useCallback)((function(){return b(!x)}),[x,b]);return(0,o.useMemo)((function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"component",onClick:function(e){return e.stopPropagation()},children:[(0,k.jsxs)("div",{children:[e("trd-layout-quickTrading"),(0,k.jsx)(i.Z,{ml:"5px",arrow:!0,tip:(0,k.jsx)(c.Z,{color:"bg2",children:e("trd-layout-quickTradingInfo",{defaultValue:"Quick Trading will send market order and could be filled immediately. "})}),children:(0,k.jsx)(s.Z,{className:"info",color:"t.third",height:"14px",size:14})})]}),(0,k.jsx)(l.Z,{size:16,checked:x,onChange:g,name:"flashOrder","data-testid":"flashOrder",className:"bn-switch",color:"primary"})]},"flashOrder"),n.map((function(n,a){return(0,k.jsxs)("div",{className:"component",onClick:function(e){return e.stopPropagation()},children:[(0,k.jsx)("div",{children:n.getTitle(e,t)}),(0,k.jsx)(S,{widget:n.i,onChange:d})]},"".concat(a+2))}))]})}),[n,x,e,d,g,t])};Z(P,"useLanguage{{ getI18n }}\nuseFuturesLanguage{{ getI18n: getFutI18n }}\nuseUpdateWidget{updateWidget}\nuseCallback{onChange}\nuseFlashOrderVisible{[flashOrderVisible, setFlashOrderVisible]}\nuseCallback{toggleFOVisible}\nuseMemo{}",(function(){return[h.ZK,h.yk,m.Xq,m.e5]}));var N=function(){var e=(0,h.ZK)().getI18n,t=(0,h.yk)().getI18n,n=(0,h.Fs)().isIPad,a=(0,m.TF)();return C.electron?null:(0,k.jsxs)(p.Z,{sx:y,children:[I&&(0,k.jsxs)(p.Z,{sx:w,children:[(0,k.jsx)(u.Z,{sx:{color:"t.primary"},children:e("trd-layout-setting-theme",{defaultValue:"Theme"})}),(0,k.jsx)(g.Z,{})]}),!C.electron&&(0,k.jsx)("div",{className:"customize-layout",children:!n&&(0,k.jsx)(u.Z,{sx:{pt:4},children:(0,k.jsx)(k.Fragment,{children:!n&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(P,{}),(0,k.jsx)("div",{onClick:a,children:(0,k.jsx)(d.Z,{className:"back-layout",children:t("subheader-backlayout",{defaultValue:"Back to Default Layout"})})})]})})})})]})};Z(N,"useLanguage{{ getI18n }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseResponsive{{ isIPad }}\nuseResetLayouts{resetLayouts}",(function(){return[h.ZK,h.yk,h.Fs,m.TF]}));var E=function(){var e=(0,o.useRef)();return(0,k.jsx)(x.ZP,{trigger:"hover",ref:e,sx:j,"data-testid":"UIOptionSelect",overlay:(0,k.jsx)(N,{}),placement:"bottom",enablePortal:!0,children:(0,k.jsx)(r.Z,{})})};Z(E,"useRef{ref}");var A=o.memo(E);const L=A;var _,z;(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(I,"enableThemeToggle","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js"),_.register(S,"SwitchWrap","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js"),_.register(P,"SwitchContainer","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js"),_.register(N,"Overlay","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js"),_.register(E,"PreferenceDropdown","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js"),_.register(A,"default","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/PreferenceDropdown/index.js")),(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&z(e)},12167:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(56666),o=n(2784),i=n(35635),s=n(72779),r=n.n(s),l=n(5163),c=n(70047);const d=function(e){return o.createElement(c.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M12 4a1 1 0 01-1-1V2a1 1 0 112 0v1a1 1 0 01-1 1zm-8 8a1 1 0 01-1 1H2a1 1 0 110-2h1a1 1 0 011 1zm8 8a1 1 0 00-1 1v1a1 1 0 102 0v-1a1 1 0 00-1-1zm11-8a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM6.343 6.343a1 1 0 01-1.414 0l-.707-.707a1 1 0 111.414-1.414l.707.707a1 1 0 010 1.414zm0 11.314a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zm11.314 0a1 1 0 000 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 0zm2.121-13.435a1 1 0 010 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0z"}),o.createElement("path",{fillRule:"evenodd",d:"M12 6a6 6 0 100 12 6 6 0 000-12zm-4 6a4 4 0 118 0 4 4 0 01-8 0z",clipRule:"evenodd"}))},p=function(e){return o.createElement(c.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{fillRule:"evenodd",d:"M4.929 4.929a9.959 9.959 0 014.385-2.563c.54-.15 1.099.103 1.398.576.3.474.27 1.075.012 1.573a6.5 6.5 0 008.761 8.761c.498-.258 1.1-.288 1.573.012.473.3.726.858.576 1.398a9.958 9.958 0 01-2.563 4.385c-3.905 3.905-10.237 3.905-14.142 0-3.905-3.905-3.905-10.237 0-14.142zm3.496-.088a8 8 0 109.232 12.816 7.994 7.994 0 001.502-2.082A8.5 8.5 0 018.424 4.84z",clipRule:"evenodd"}))};var u=n(48249),x=n(82732),b=n(4673);const g={width:"56px",height:"32px",bg:"bg3",borderRadius:"16px",p:1,"& .theme-button":{flex:1,width:"24px",alignItems:"center",justifyContent:"center",borderRadius:"16px","&.theme-light, &.theme-dark":{backgroundColor:"transparent","&.active":{backgroundColor:"popupBg"}},svg:{cursor:"pointer",color:"t.primary","&:hover":{color:"primary"}}}};var h,m=n(52322);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}e=n.hmd(e),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&h(e);var j=function(e){var t=(0,x.PS)(),n=t.isLight,s=t.toggleTheme,l=(0,o.useCallback)((function(e,t){t.stopPropagation(),e!==(n?b.rp:b.Py)&&((0,u.$k)((0,a.Z)({},b.C6,e)),s(e===b.rp))}),[n,s]),c=(0,o.useMemo)((function(){return l.bind(null,b.rp)}),[l]),h=(0,o.useMemo)((function(){return l.bind(null,b.Py)}),[l]);return(0,m.jsxs)(i.Z,f(f({},e),{},{sx:g,children:[(0,m.jsx)(i.Z,{className:r()("theme-button theme-light",{active:n}),children:(0,m.jsx)(d,{size:16,onClick:c})}),(0,m.jsx)(i.Z,{className:r()("theme-button theme-dark",{active:!n}),children:(0,m.jsx)(p,{size:16,onClick:h})})]}))};("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(j,"useModelTheme{{ isLight, toggleTheme }}\nuseCallback{onToggle}\nuseMemo{toggleLight}\nuseMemo{toggleDark}",(function(){return[x.PS]}));var y=o.memo(j);const w=y;var k,O;(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(j,"ThemeToggle","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/Toggle/ThemeToggle.js"),k.register(y,"default","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/Toggle/ThemeToggle.js")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},41980:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(5163),o=n(2784),i=n(70047);const s=function(e){return o.createElement(i.Z,(0,a.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M12 9a1 1 0 100-2 1 1 0 100 2zm0 8a1 1 0 001-1v-5a1 1 0 10-2 0v5a1 1 0 001 1z"}),o.createElement("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10zm-2 0a8 8 0 10-16 0 8 8 0 0016 0z",clipRule:"evenodd"}))}},44181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Mt});var a=n(52322),o=n(2784),i=n(35635),s=n(51517),r=n(23785),l=n(5163),c=n(60642),d=n(64085),p=n(66041),u=n(82732);const x={".perpetual-button":{color:"primary","&:hover:not(:disabled):not(:active):not(.inactive)":{bg:"transparent"}},".swap-button":{color:"t.secondary","&:hover:not(:disabled):not(:active):not(.inactive)":{color:"t.secondary"},"&:active":{color:"t.secondary"}}},b={".price-link":{display:"flex",textDecoration:"none",cursor:"pointer",height:"100%","&:hover":{".apx-price-txt":{color:"t.yellow"}}},".price-container":{justifyContent:"flex-end",alignItems:"center"},".price-text":{color:"t.secondary",ml:"6px"},".price-logo":{width:"24px"}},g=Object.assign(Object.assign({width:"100%",bg:"moduleBg",justifyContent:"space-between",px:"16px",height:"64px","> div":{display:"flex",flex:1,alignItems:"center"},".desktopLogo, .mobileLogo":{mr:"6px",height:"48px"},".menu":{display:"flex",justifyContent:"center"},".suffix-menu":{display:"flex",justifyContent:"flex-end","> *":{ml:"12px"},".bn-tooltip-box":{borderRadius:"16px",padding:"8px 12px",fontSize:"14px",lineHeight:"20px",ml:0,mt:"-10px"}},".account-button":{color:"t.primary",alignItems:"center",width:"120px"},".connect-button":{width:"120px"},".customer-service-icon":{color:"t.secondary",cursor:"pointer",fontSize:"20px",mt:"6px","&:hover":{opacity:.65}},".mobile-menus":{justifyContent:"flex-end","> *":{ml:"10px"},".hamburger-icon":{color:"t.secondary"}}},x),b);var h=n(62252),m=n(52613),v=n(44520),f=n(20512),j=n(52261),y=n(9221),w=n(70047);const k=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{d:"M6 10a6 6 0 1112 0v7h1l1-1v-6a8 8 0 10-16 0v6l1 1h1v-7zM12 18a2.5 2.5 0 110 5 2.5 2.5 0 010-5z",fill:"currentColor"}),o.createElement("path",{d:"M1.5 13.5A3.5 3.5 0 005 17v-7a3.5 3.5 0 00-3.5 3.5zM22.5 13.5A3.5 3.5 0 0119 17v-7a3.5 3.5 0 013.5 3.5z",fill:"currentColor"}))};var O=n(78913),C=n(48249),Z=n(23187);const{quotePairLpAddress:I}=O.ll.headerConfig,S=o.lazy((()=>Promise.all([n.e(950),n.e(902),n.e(584)]).then(n.bind(n,26584)))),P=o.lazy((()=>Promise.all([n.e(950),n.e(902),n.e(78)]).then(n.bind(n,77078)))),N=o.memo((()=>(0,a.jsx)(o.Suspense,Object.assign({fallback:"--"},{children:I?(0,a.jsx)(P,{},void 0):(0,a.jsx)(S,{},void 0)}),void 0))),{priceUrl:E,priceLogoUrl:A,lpPairAddress:L,lpBaseAddress:_,lpQuoteAddress:z}=O.ll.headerConfig,V=o.memo((()=>L&&_&&z?(0,a.jsx)(Z.Z,Object.assign({target:"_blank",href:E,className:"price-link"},{children:(0,a.jsxs)(i.Z,Object.assign({className:"price-container"},{children:[A&&(0,a.jsx)("img",{src:A,className:"price-logo"},void 0),(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",className:"price-text"},{children:(0,a.jsx)(N,{},void 0)}),void 0)]}),void 0)}),void 0):null)),T=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))};var M=n(50634),H=n(15836);const D=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{fillRule:"evenodd",d:"M20 3a1 1 0 00-1-1H9a1 1 0 000 2h8.5a.5.5 0 01.5.5V17a1 1 0 102 0V3zm-6.5 5a.5.5 0 01.5.5v11a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5h7zM4 8a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V8z",clipRule:"evenodd"}))},R=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.07 13A7.002 7.002 0 0010 19h4v-3h4v-2h-4v-4h4V8h-4V5h-4a7.002 7.002 0 00-6.93 6H1v2h2.07zM10 7a5 5 0 000 10h2V7h-2z",fill:"currentColor"}),o.createElement("path",{d:"M22 19h-2V5h2v14z",fill:"currentColor"}))};var F=n(74881),B=n(83536);const K=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M13 22a1 1 0 100-2H5V4h8a1 1 0 100-2H4a1 1 0 00-1 1v18a1 1 0 001 1h9z"}),o.createElement("path",{d:"M16.707 7.707a1 1 0 00-1.414 1.414L17.17 11H8a1 1 0 100 2h9.171l-1.878 1.879a1 1 0 101.414 1.414l3.586-3.586a1 1 0 000-1.414l-3.586-3.586z"}))};var U=n(69585);const W={bg:"popupBg",borderRadius:"16px",width:["100%","240px"],boxShadow:["none","elevation2"],marginTop:["0px","16px"],overflow:"hidden",".account-address-container":{px:"16px",py:"18px",borderBottom:"1px sold",borderBottomColor:"line",display:"flex",alignItems:"center",".account-address":{color:"t.primary",fontSize:"20px"},".copy-icon":{color:"t.third",cursor:"pointer",fontSize:"20px",ml:"6px"}},".item":{display:"flex",flexDirection:["row-reverse","row"],justifyContent:["space-between","flex-start"],alignItems:"center",p:"16px",cursor:"pointer",color:"t.primary",fontSize:"16px","&:hover":{bg:"bg3"},".prefix-icon":{mr:"10px",fontSize:"20px"},".label":{}}},$=(e,t=4,n=4)=>e.replace(new RegExp(`(\\w{${t}})(.*)(\\w{${n}})`,"g"),"$1...$3"),Y=({accountAddress:e,getI18n:t,logout:n,onApiManagementClick:i})=>{const{isDesktop:s}=(0,U.Fs)(),r=(0,o.useCallback)((()=>{(0,F.v)(e||""),(0,B.PV)(t("dex-header-copy-account-success"),{variant:"success"})}),[e,t]);return(0,a.jsxs)(m.Z,Object.assign({sx:W},{children:[(0,a.jsxs)("div",Object.assign({className:"account-address-container",onClick:r},{children:[(0,a.jsx)("span",Object.assign({className:"account-address"},{children:$(e,6)}),void 0),(0,a.jsx)(D,{className:"copy-icon"},void 0)]}),void 0),(0,a.jsxs)("div",Object.assign({className:"item",onClick:i},{children:[(0,a.jsx)(R,{className:"prefix-icon"},void 0),t("dex-header-api-management")]}),void 0),(0,a.jsx)(m.Z,{sx:{borderTop:"1px solid",borderColor:"newLine",mx:s?"0":"16px"}},void 0),(0,a.jsxs)("div",Object.assign({className:"item",onClick:n},{children:[(0,a.jsx)(K,{className:"prefix-icon"},void 0),t("dex-header-disconnect")]}),void 0)]}),void 0)};var G=n(5520),Q=n(18999),q=n(88767);const X=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M10.707 16.879a1 1 0 01-1.414 1.414l-5.586-5.586a1 1 0 010-1.414l5.586-5.586a1 1 0 011.414 1.414l-3.879 3.88H20a1 1 0 110 2H6.829l3.878 3.878z"}))};var J=n(46159),ee=n(80418),te=n(28637),ne=n(25860),ae=n(22416);const oe="API_KEY_LISTING",ie="API_KEY_CREATION",se="API_KEY_EDIT",re="GET_API_KEY_LIST",le="SWITCH_DIALOG_VIEW",ce="0.0.0.0";const de=()=>{const e=(0,G.r9)(),{data:t,isLoading:n,refetch:a}=(0,q.useQuery)([re],(()=>{return t=void 0,n=void 0,o=function*(){let t=[];const n=[(0,ae.Cn)(!1)];e&&n.push((0,ae.Cn)(!0));const[a,o]=yield Promise.all(n);return e&&o.success&&(t=[...t,...o.data.map((e=>Object.assign(Object.assign({},e),{type:G.v3.Spot})))]),a.success&&(t=[...t,...a.data.map((e=>Object.assign(Object.assign({},e),{type:G.v3.Futures})))]),t},new((a=void 0)||(a=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,r)}l((o=o.apply(t,n||[])).next())}));var t,n,a,o}),{staleTime:1/0});return{data:t||[],isLoading:n,refetch:a}};var pe=n(76940),ue=n(68326),xe=n(62242);var be=n(10091),ge=n(43352),he=function(e){var t,n=e.variant,a=void 0===n?"purehead":n,i=function(e){return(0,l.__assign)((0,l.__assign)({},e),{expandable:(0,l.__assign)({defaultExpandAllRows:e.defaultExpandAllRows,defaultExpandedRowKeys:e.defaultExpandedRowKeys,expandedRowKeys:e.expandedRowKeys,expandedRowRender:e.expandedRowRender,expandedRowClassName:e.expandedRowClassName,expandIcon:e.expandIcon,expandIconColumnIndex:e.expandIconColumnIndex,indentSize:e.indentSize,onExpand:e.onExpand,onExpandedRowsChange:e.onExpandedRowsChange},e.expandable)})}(e),s={".bn-table th":{color:(t=(0,ge.Fg)()).colors.t.third,backgroundColor:t.colors.modalBg,boxShadow:"inset 0px 1px 0px "+t.colors.line+", inset 0px -1px 0px "+t.colors.line},".bn-table td":{color:t.colors.t.primary,backgroundColor:t.colors.bg1,boxShadow:"inset 0px -1px 0px "+t.colors.line},".bn-table tr":{":hover":{td:{backgroundColor:t.colors.bg3}}},".bn-table .bn-table-cell.bn-table-sorting":{backgroundColor:t.colors.bg2},".bn-table-ping-left .bn-table-cell-fix-left-first:after, .bn-table-ping-left .bn-table-cell-fix-left-last:after":{boxShadow:"inset 10px 0 8px -8px "+t.colors.line},".bn-table-ping-right .bn-table-cell-fix-right-first:after, .bn-table-ping-right .bn-table-cell-fix-right-last:after":{boxShadow:"inset -10px 0 8px -8px "+t.colors.line},".bn-table .bn-table-content":{"&::-webkit-scrollbar":{backgroundColor:""+t.colors.modalBg,height:"10px"},"&::-webkit-scrollbar-thumb":{backgroundClip:"padding-box",backgroundColor:""+t.colors.t.disabled,border:"2px solid rgba(0, 0, 0, 0)",borderRadius:"20px",transition:"all 1s ease-out","&:hover":{border:"1px solid rgba(0, 0, 0, 0)",backgroundColor:""+t.colors.t.third}}}};return o.createElement(m.Z,{tx:"table",variant:a},o.createElement(ue.ZP,(0,l.__assign)({prefixCls:"bn-table",direction:(0,xe.Z)()},i)),o.createElement(be.xB,{styles:(0,be.iv)(ve||(ve=(0,l.__makeTemplateObject)(["\n          ","\n        "],["\n          ","\n        "])),"\n.bn-table.bordered table {\n  border-collapse: collapse;\n}\n.bn-table.bordered th,\n.bn-table.bordered td {\n  border: 1px solid #e9e9e9;\n}\n.bn-table {\n  font-size: 12px;\n  color: #666;\n  transition: opacity 0.3s ease;\n  position: relative;\n  line-height: 1.5;\n  overflow: hidden;\n}\n.bn-table .bn-table-scroll {\n  overflow: auto;\n}\n.bn-table .bn-table-scroll table {\n  width: auto;\n  min-width: 100%;\n}\n.bn-table .bn-table-header {\n  overflow: hidden;\n  background: #f7f7f7;\n}\n.bn-table-fixed-header .bn-table-body {\n  background: #fff;\n  position: relative;\n}\n.bn-table-fixed-header .bn-table-body-inner {\n  height: 100%;\n  overflow: scroll;\n}\n.bn-table-fixed-header .bn-table-scroll .bn-table-header {\n  padding-bottom: 20px;\n  margin-bottom: -20px;\n  overflow: scroll;\n  box-sizing: border-box;\n}\n.bn-table-hide-scrollbar {\n  scrollbar-color: transparent transparent;\n}\n.bn-table-hide-scrollbar::-webkit-scrollbar {\n  background-color: transparent;\n}\n.bn-table-fixed-columns-in-body {\n  visibility: hidden;\n  pointer-events: none;\n}\n.bn-table .bn-table-title {\n  padding: 12px 16px;\n  border-top: 1px solid #e9e9e9;\n}\n.bn-table .bn-table-content {\n  position: relative;\n}\n.bn-table .bn-table-footer {\n  padding: 12px 16px;\n  border-bottom: 1px solid #e9e9e9;\n}\n.bn-table .bn-table-placeholder {\n  padding: 12px 16px;\n  background: #fff;\n  border-bottom: 1px solid #e9e9e9;\n  text-align: center;\n  position: relative;\n}\n.bn-table .bn-table-placeholder-fixed-columns {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background: transparent;\n  pointer-events: none;\n}\n.bn-table table {\n  width: 100%;\n  border-collapse: collapse;\n  text-align: left;\n}\n.bn-table th {\n  font-size: 12px;\n  font-weight: normal;\n}\n.bn-table td {\n  font-size: 14px;\n}\n.bn-table tr {\n  transition: all .3s ease;\n}\n.bn-table th {\n  padding: 12px 16px;\n  white-space: nowrap;\n}\n\n.bn-table td {\n  padding: 18px 16px;\n  white-space: nowrap;\n}\n\n.bn-table-expand-icon-col {\n  width: 34px;\n}\n.bn-table-row-expand-icon,\n.bn-table-expanded-row-expand-icon {\n  cursor: pointer;\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  text-align: center;\n  line-height: 16px;\n  border: 1px solid #e9e9e9;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  background: #fff;\n}\n.bn-table-row-spaced,\n.bn-table-expanded-row-spaced {\n  visibility: hidden;\n}\n.bn-table-row-spaced:after,\n.bn-table-expanded-row-spaced:after {\n  content: '.';\n}\n.bn-table-row-expanded:after,\n.bn-table-expanded-row-expanded:after {\n  content: '-';\n}\n.bn-table-row-collapsed:after,\n.bn-table-expanded-row-collapsed:after {\n  content: '+';\n}\ntr.bn-table-expanded-row {\n  background: #f7f7f7;\n}\ntr.bn-table-expanded-row:hover {\n  background: #f7f7f7;\n}\n.bn-table-column-hidden {\n  display: none;\n}\n.bn-table-prev-columns-page,\n.bn-table-next-columns-page {\n  cursor: pointer;\n  color: #666;\n  z-index: 1;\n}\n.bn-table-prev-columns-page:hover,\n.bn-table-next-columns-page:hover {\n  color: #2db7f5;\n}\n.bn-table-prev-columns-page-disabled,\n.bn-table-next-columns-page-disabled {\n  cursor: not-allowed;\n  color: #999;\n}\n.bn-table-prev-columns-page-disabled:hover,\n.bn-table-next-columns-page-disabled:hover {\n  color: #999;\n}\n.bn-table-prev-columns-page {\n  margin-right: 8px;\n}\n.bn-table-prev-columns-page:before {\n  content: '<';\n}\n.bn-table-next-columns-page {\n  float: right;\n}\n.bn-table-next-columns-page:before {\n  content: '>';\n}\n.bn-table-fixed-left,\n.bn-table-fixed-right {\n  position: absolute;\n  top: 0;\n  overflow: hidden;\n}\n.bn-table-fixed-left table,\n.bn-table-fixed-right table {\n  width: auto;\n  background: #fff;\n}\n.bn-table-fixed-left {\n  left: 0;\n  border-right: 1px solid #EAECEF;\n}\n.bn-table-fixed-left .bn-table-body-inner {\n  margin-right: -20px;\n  padding-right: 20px;\n}\n.bn-table-fixed-header .bn-table-fixed-left .bn-table-body-inner {\n  padding-right: 0;\n}\n.bn-table-fixed-right {\n  right: 0;\n  border-left: 1px solid #EAECEF;\n}\n.bn-table-fixed-right .bn-table-expanded-row {\n  color: transparent;\n  pointer-events: none;\n}\n.bn-table.bn-table-scroll-position-left .bn-table-fixed-left {\n  box-shadow: none;\n}\n.bn-table.bn-table-scroll-position-right .bn-table-fixed-right {\n  box-shadow: none;\n}\n.bn-table-row-cell-ellipsis {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.bn-table-row-cell-break-word {\n  word-wrap: break-word;\n  word-break: break-word;\n}\n.bn-table-layout-fixed table {\n  table-layout: fixed;\n}\n\n.bn-table .bn-table-placeholder {\n  border-bottom: none;\n}\n.bn-table .bn-table-placeholder .bn-table-cell {\n  border-bottom: none;\n}\n// solve the sticky element with sticky issue in firefox (latest)\n// 1. force trigger the reflow\n// 2. emulate a bottom border\ntd.bn-table-cell-fix-left, \ntd.bn-table-cell-fix-right {\n  background-clip: padding-box;\n}\n\n.bn-table-cell-fix-right-first:after, \n.bn-table-cell-fix-right-last:after {\n  position: absolute;\n  top: 0;\n  bottom: -1px;\n  left: -1px;\n  width: 20px;\n  transform: translateX(-100%);\n  transition: box-shadow .3s;\n  content: \"\";\n  pointer-events: none;\n}\n.bn-table-cell-fix-left-first:after, \n.bn-table-cell-fix-left-last:after {\n  position: absolute;\n  top: 0;\n  right: -1px;\n  bottom: -1px;\n  width: 20px;\n  transform: translateX(100%);\n  transition: box-shadow .3s;\n  content: \"\";\n  pointer-events: none;\n}\n")}),o.createElement(be.xB,{styles:s}))};he.displayName="TableV2";const me=he;var ve;const fe=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{fillRule:"evenodd",d:"M20 3a1 1 0 00-1-1H9a1 1 0 000 2h8.5a.5.5 0 01.5.5V17a1 1 0 102 0V3zm-6.5 5a.5.5 0 01.5.5v11a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5h7zM4 8a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V8z",clipRule:"evenodd"}))};var je=n(86090);const ye=e=>{var{text:t,getI18n:n}=e,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["text","getI18n"]);const[s,r]=(0,o.useState)(!1),l=(0,o.useCallback)((()=>{r(!0),(0,F.v)(t)}),[t]),c=(0,o.useCallback)((()=>{r(!1)}),[]);return(0,a.jsx)(je.Z,Object.assign({open:s,arrow:!0,tip:n("dex-api-key-management-copied",{defaultValue:"Copied"}),placement:"top",enablePortal:!0},{children:(0,a.jsx)(f.Z,Object.assign({as:"span",sx:{cursor:"pointer"},variant:"subtitle2"},{children:(0,a.jsx)(fe,Object.assign({onMouseLeave:c,onClick:l,size:2,sx:{position:"relative",top:"3px",":hover":{fill:"t.primary"}}},i),void 0)}),void 0)}),void 0)};const we=e=>{var{text:t}=e,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["text"]);return(0,a.jsxs)(f.Z,Object.assign({},n,{children:[(0,a.jsx)(f.Z,Object.assign({as:"span",sx:{display:"inline-block",maxWidth:"50%",overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}},{children:null==t?void 0:t.substring(0,t.length/2)}),void 0),(0,a.jsx)(f.Z,Object.assign({as:"span",sx:{display:"inline-block",maxWidth:"50%",overflow:"hidden",whiteSpace:"pre",textOverflow:"clip",direction:"rtl"}},{children:null==t?void 0:t.substring(t.length/2,t.length)}),void 0)]}),void 0)};const ke=(e,t)=>({[G.v3.Spot]:t("dex-trade-type-spot","Spot"),[G.v3.Futures]:t("dex-trade-type-futures","Futures")}[e]||`${e}`),Oe=({keyId:e,getI18n:t,isSpot:n})=>{const[,,i]=(0,pe.Z)(`dex-api-key-management-ip-list-${e}`,"[]"),{mutateAsync:s,isLoading:r}=(()=>{const e=(0,q.useQueryClient)(),{web3Adapter:t}=(0,p.dc)();return(0,q.useMutation)((e=>{return n=void 0,a=void 0,i=function*(){if(!(null==t?void 0:t.publicAddress))return;const n=yield(0,ae.Vu)(t.publicAddress,"DELETE_API_KEY"),a=yield null==t?void 0:t.sign(`${t.NONCE_PREFIX}${n.data.nonce}`);return(0,ae.Xi)({keyId:e.keyId,signature:a,sourceAddr:t.publicAddress},e.isSpot)},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function r(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}l((i=i.apply(n,a||[])).next())}));var n,a,o,i}),{onSuccess:()=>{e.invalidateQueries([re])}})})(),l=(0,o.useCallback)((()=>{return t=void 0,a=void 0,r=function*(){yield s({keyId:e,isSpot:n}),i()},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}l((r=r.apply(t,a||[])).next())}));var t,a,o,r}),[s,e,n]);return(0,a.jsx)(v.Z,Object.assign({sx:{p:0,display:"inline",minWidth:0},variant:"quiet",onClick:l},{children:r?(0,a.jsx)(te.Z,{size:14},void 0):t("dex-api-key-management-delete",{defaultValue:"Delete"})}),void 0)},Ce=({keyId:e,getI18n:t})=>{const n=(0,o.useCallback)((()=>{Q.Y.emit(le,se,e)}),[e]);return(0,a.jsx)(v.Z,Object.assign({sx:{p:0,display:"inline",minWidth:0},variant:"quiet",onClick:n},{children:t("dex-api-key-management-edit","Edit")}),void 0)},Ze=({getI18n:e})=>{const{data:t}=de(),n=(0,o.useCallback)((()=>{Q.Y.emit(le,ie)}),[]),s=o.useMemo((()=>[{title:"#",width:"44px",className:"api-key-table-cell",render:(e,t,n)=>n+1},{title:e("dex-api-key-management-api-label",{defaultValue:"API Label"}),dataIndex:"desc",key:"desc",width:"119px",className:"api-key-table-cell",render:e=>(0,a.jsx)(f.Z,Object.assign({sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},{children:e}),void 0)},{title:e("dex-api-key-management-type",{defaultValue:"Type"}),dataIndex:"type",key:"type",width:"84px",className:"api-key-table-cell",render:t=>(0,a.jsx)(f.Z,Object.assign({sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},{children:ke(t,e)}),void 0)},{title:e("dex-api-key-management-api-key2",{defaultValue:"API Key"}),dataIndex:"key",key:"key",width:"144px",className:"api-key-table-cell",render:t=>(0,a.jsxs)(i.Z,Object.assign({alignItems:"center"},{children:[(0,a.jsx)(f.Z,Object.assign({mr:"6px",width:"100px",sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},{children:t}),void 0),(0,a.jsx)(ye,{getI18n:e,text:t,color:"t.third"},void 0)]}),void 0)},{title:e("dex-api-key-management-api-secret",{defaultValue:"API Secret"}),dataIndex:"secretKey",key:"secretKey",width:"84px",className:"api-key-table-cell",render:()=>"******"},{title:e("dex-api-key-management-action",{defaultValue:"Action"}),dataIndex:"keyId",width:"92px",className:"api-key-table-cell api-key-table-cell-action",render:(t,n)=>(0,a.jsxs)(i.Z,Object.assign({alignItems:"center",justifyContent:"space-between"},{children:[(0,a.jsx)(Ce,{getI18n:e,keyId:t},void 0),(0,a.jsx)(Oe,{getI18n:e,keyId:t,isSpot:n.type===G.v3.Spot},void 0)]}),void 0)}]),[e]);return(0,a.jsx)(m.Z,Object.assign({className:"dex-key-management-wrap-container",sx:{height:"auto !important",".bn-table-thead":{".api-key-table-cell":{color:"t.third"}},".bn-table-header":{pr:"24px",background:"transparent"},".bn-table-body":{pr:"24px",bg:e=>{var t;return`${null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.modalBg} !important`},".api-key-table-cell":{color:"t.primary"}},".api-key-table-cell":{bg:e=>{var t;return`${null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.modalBg} !important`},boxShadow:"none",fontSize:"12px",lineHeight:"16px","& + .api-key-table-cell-action":{p:"unset !important",textAlign:"left"}},".bn-table-thead .bn-table-cell-scrollbar":{boxShadow:"none",paddingTop:0},".api-key-table-cell:hover":{bg:e=>{var t;return`${null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.modalBg} !important`}},".bn-table-cell-scrollbar":{bg:e=>{var t;return`${null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.modalBg} !important`}},"th,td":{p:0,pr:"24px",textAlign:"left"},td:{height:"40px",borderBottom:"1px solid",borderBottomColor:"line"}}},{children:(0,a.jsxs)(m.Z,Object.assign({className:"dex-key-management-wrap",sx:{pr:"0 !important"}},{children:[(0,a.jsx)("div",Object.assign({className:"dex-key-management-wrap-body"},{children:(0,a.jsx)(me,{className:"api-key-table",sticky:!0,columns:s,tableLayout:"fixed",data:t,scroll:{y:328}},void 0)}),void 0),(0,a.jsx)(i.Z,Object.assign({justifyContent:"flex-end",mt:"24px",pr:"24px"},{children:(0,a.jsx)(v.Z,Object.assign({sz:"l",width:["100%","auto"],minWidth:"164px",onClick:n},{children:e("dex-api-key-management-create-api",{defaultValue:"Create API"})}),void 0)}),void 0)]}),void 0)}),void 0)},Ie=({getI18n:e})=>{const{data:t}=de(),n=(0,o.useCallback)((()=>{Q.Y.emit(le,ie)}),[]);return(0,a.jsx)(m.Z,Object.assign({height:"calc(100vh - 64px)",sx:{overflowY:"auto",position:"relative"}},{children:(0,a.jsxs)(m.Z,Object.assign({height:"100%",pb:"92px",sx:{overflow:"hidden"}},{children:[(0,a.jsx)(m.Z,Object.assign({as:"ol",sx:{listStyleType:"none",p:0,m:0,width:"100%",height:"100%",overflowY:"auto"}},{children:t.map((t=>(0,a.jsxs)(m.Z,Object.assign({as:"li",sx:{p:"16px","+ li":{borderTop:"1px solid #3B3D59"}}},{children:[(0,a.jsxs)(i.Z,Object.assign({justifyContent:"space-between",mb:2},{children:[(0,a.jsx)(m.Z,Object.assign({width:[.5],sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px"}},{children:t.desc}),void 0),(0,a.jsxs)(i.Z,Object.assign({sx:{gap:"8px"}},{children:[(0,a.jsx)(Ce,{getI18n:e,keyId:t.keyId},void 0),(0,a.jsx)(Oe,{getI18n:e,keyId:t.keyId,isSpot:t.type===G.v3.Spot},void 0)]}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({justifyContent:"space-between",mb:2},{children:[(0,a.jsxs)(m.Z,Object.assign({as:f.Z,color:"t.third"},{children:[e("dex-api-key-management-type",{defaultValue:"Type"})," "]}),void 0),(0,a.jsx)(m.Z,Object.assign({width:[.5],textAlign:"right"},{children:(0,a.jsx)(we,{text:ke(t.type,e)},void 0)}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({justifyContent:"space-between",mb:2},{children:[(0,a.jsxs)(m.Z,Object.assign({as:f.Z,color:"t.third"},{children:[e("dex-api-key-management-api-key2",{defaultValue:"API Key"})," ",(0,a.jsx)(ye,{getI18n:e,text:t.key},void 0)]}),void 0),(0,a.jsx)(m.Z,Object.assign({width:[.5]},{children:(0,a.jsx)(we,{text:t.key},void 0)}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({justifyContent:"space-between"},{children:[(0,a.jsx)(m.Z,{children:(0,a.jsx)(f.Z,Object.assign({color:"t.third"},{children:e("dex-api-key-management-api-secret",{defaultValue:"API Secret"})}),void 0)},void 0),(0,a.jsx)(m.Z,{children:"******"},void 0)]}),void 0)]}),t.keyId)))}),void 0),(0,a.jsx)(v.Z,Object.assign({sz:"l",width:["100%","auto"],minWidth:"164px",onClick:n,sx:{position:"absolute",bottom:"24px",width:"calc(100vw - 48px)"}},{children:e("dex-api-key-management-create-api",{defaultValue:"Create API"})}),void 0)]}),void 0)}),void 0)},Se=({getI18n:e})=>{const{data:t,isLoading:n}=de(),{isMobile:s}=(0,ne.F)(),r="light"===(0,u.Fg)(),l=(0,o.useCallback)((()=>{Q.Y.emit(le,ie)}),[]);return n||!t?(0,a.jsx)(i.Z,Object.assign({justifyContent:"center",alignItems:"center",flexDirection:"column",sx:{width:"100%",minHeight:"448px"}},{children:(0,a.jsx)(te.Z,{},void 0)}),void 0):n||0!==(null==t?void 0:t.length)?s?(0,a.jsx)(Ie,{getI18n:e},void 0):(0,a.jsx)(Ze,{getI18n:e},void 0):(0,a.jsxs)(i.Z,Object.assign({justifyContent:"space-between",alignItems:"end",flexDirection:"column",pb:"24px",px:"24px"},{children:[(0,a.jsxs)(i.Z,Object.assign({justifyContent:"center",flexDirection:"column",height:"360px",alignItems:"center",width:"100%"},{children:[r?(0,a.jsx)(J.Z,{size:96,mb:"8px"},void 0):(0,a.jsx)(ee.Z,{size:96,mb:"8px"},void 0),(0,a.jsx)(f.Z,Object.assign({color:"t.third",variant:"body2"},{children:e("dex-api-key-management2-not-found","You don’t have API key")}),void 0)]}),void 0),(0,a.jsx)(v.Z,Object.assign({minWidth:"164px",sz:"large",width:["100%","auto"],onClick:l},{children:e("dex-api-key-management-create-api",{defaultValue:"Create API"})}),void 0)]}),void 0)};var Pe=n(24918),Ne=n(84797);const Ee=({apiKey:e,apiSecret:t,ip:n,getI18n:o,onTrack:s})=>{const{enqueueNotification:r}=(0,Pe.Z)(),l=(0,Ne.D)((()=>{Q.Y.emit(le,oe),r(o("dex-api-key-management-confirm-created","API Key Created"),{variant:"success"}),s({elementId:"create_api_key_confirm",elementName:"API_Management_Popup_Click"})}));return(0,a.jsx)(m.Z,Object.assign({className:"dex-key-management-wrap-container",sx:{height:["calc(100vh - 64px)","auto !important"]}},{children:(0,a.jsx)("div",Object.assign({className:"dex-key-management-wrap"},{children:(0,a.jsxs)("div",Object.assign({className:"dex-key-management-wrap-body"},{children:[(0,a.jsxs)(m.Z,Object.assign({width:"100%"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"body2",color:"t.yellow",mb:"24px"},{children:o("dex-api-key-management-confirm-title","API secret key cannot be retrieved and will ONLY be displayed for ONE time. Please note it down and keep it safe.")}),void 0),(0,a.jsxs)(i.Z,Object.assign({mb:"24px"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third",flex:1},{children:o("dex-api-key-management-api-key2",{defaultValue:"API Key"})}),void 0),(0,a.jsxs)(i.Z,Object.assign({alignItems:"center"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.primary",maxWidth:["200px","264px"],sx:{overflow:"hidden",textOverflow:"ellipsis"}},{children:e}),void 0),(0,a.jsx)(m.Z,Object.assign({sx:{width:"16px",ml:2}},{children:(0,a.jsx)(ye,{getI18n:o,text:e,color:"t.primary"},void 0)}),void 0)]}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({mb:"24px"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third",flex:1},{children:o("dex-api-key-management-api-secret",{defaultValue:"API Secret"})}),void 0),(0,a.jsxs)(i.Z,Object.assign({alignItems:"center"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.primary",maxWidth:["200px","264px"],sx:{overflow:"hidden",textOverflow:"ellipsis"}},{children:t}),void 0),(0,a.jsx)(m.Z,Object.assign({sx:{width:"16px",ml:2}},{children:(0,a.jsx)(ye,{getI18n:o,text:t,color:"t.primary"},void 0)}),void 0)]}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({flexDirection:"column",justifyContent:"space-between"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third",mb:"24px"},{children:o("dex-api-key-management-ip-restrictions",{defaultValue:"IP restrictions"})}),void 0),(0,a.jsx)(i.Z,Object.assign({flexWrap:"wrap",sx:{columnGap:"16px",rowGap:"10px",height:["104px","unset"],maxHeight:["unset","104px"],overflowY:"auto"}},{children:n.map((e=>(0,a.jsx)(f.Z,Object.assign({bg:"t.disabled",color:"t.secondary",variant:"body2",px:"8px",py:"4px",height:"28px",sx:{borderRadius:"28px",display:"flex",alignItems:"center",justifyContent:"center"}},{children:e}),e)))}),void 0)]}),void 0)]}),void 0),(0,a.jsx)(v.Z,Object.assign({sz:"normal",sx:{width:["calc(100vw - 48px)","auto"],minWidth:"164px",position:["absolute","unset"],left:["24px","unset"],bottom:["24px","unset"],mt:"24px"},onClick:l},{children:o("dex-api-key-management-confirm-Confirm",{defaultValue:"Confirm"})}),void 0)]}),void 0)}),void 0)}),void 0)};var Ae=n(71164),Le=n(499),_e=n(11559),ze=n(42283);const Ve=e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e),Te={".bn-input-label":{color:"t.primary",fontSize:"14px !important"}},Me=({isLoading:e,getI18n:t,onSubmit:n})=>{var s,r,l,c;const{isMobile:d}=(0,ne.F)(),{tradeType:p}=(0,G.Gt)(),u=(0,G.r9)(),{handleSubmit:x,control:b,formState:{isValid:g,errors:h}}=(0,ze.cI)({mode:"all"}),j=(0,o.useMemo)((()=>[{label:t("dex-trade-type-spot",{defaultValue:"Spot"}),value:`${G.v3.Spot}`},{label:t("dex-trade-type-futures",{defaultValue:"Futures"}),value:`${G.v3.Futures}`}]),[t]),y=(0,o.useCallback)((e=>{const t=j.find((t=>t.value===e));return t?t.label:null}),[j]);return(0,a.jsx)(m.Z,Object.assign({className:"dex-key-management-wrap-container"},{children:(0,a.jsx)("div",Object.assign({className:"dex-key-management-wrap"},{children:(0,a.jsxs)(i.Z,Object.assign({className:"dex-key-management-wrap-body",sx:Te,as:"form",onSubmit:x((e=>n(Object.assign(Object.assign({},e),{ip:e.ip})))),autoComplete:"off"},{children:[(0,a.jsxs)(m.Z,Object.assign({width:"100%"},{children:[(0,a.jsxs)(m.Z,Object.assign({as:"ol",pl:3,mb:"24px",sx:{color:"t.secondary"}},{children:[(0,a.jsx)(m.Z,Object.assign({as:"li"},{children:(0,a.jsx)(f.Z,Object.assign({color:"t.secondary",as:"span",variant:"body2"},{children:t("dex-api-key-management-create-tips-1",{defaultValue:"Each account can create up to 30 API Keys."})}),void 0)}),void 0),(0,a.jsx)(m.Z,Object.assign({as:"li"},{children:(0,a.jsx)(f.Z,Object.assign({color:"t.secondary",as:"span",variant:"body2"},{children:t("dex-api-key-management-create-tips-2",{defaultValue:"Do not disclose your API Key to anyone to avoid asset losses."})}),void 0)}),void 0),(0,a.jsx)(m.Z,Object.assign({as:"li"},{children:(0,a.jsx)(f.Z,Object.assign({color:"t.secondary",as:"span",variant:"body2"},{children:t("dex-api-key-management-create-tips-3",{defaultValue:"Be aware that your API Key may be disclosed by authorizing it to a third-party platform."})}),void 0)}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({flexDirection:["column","row"]},{children:[u&&(0,a.jsx)(m.Z,Object.assign({flex:d?"":"1",mr:d?0:3},{children:(0,a.jsx)(ze.Qr,{control:b,name:"type",defaultValue:`${p}`,render:({field:e})=>(0,a.jsx)(Ae.Z,Object.assign({},e,{renderValue:y,hideSearch:!0,variant:"outline",label:t("dex-api-key-management-type",{defaultValue:"Type"}),sx:{"&>div:first-of-type":{bg:"bg3","&:hover":{border:"1px solid transparent !important",bg:e=>`${e.colors.bg3} !important`}}}},{children:j.map((({value:e,label:t})=>(0,a.jsx)(Le.W,Object.assign({value:`${e}`},{children:t}),`${e}`)))}),void 0)},void 0)}),void 0),(0,a.jsxs)(m.Z,Object.assign({flex:d?"":"1",mt:d?3:0},{children:[(0,a.jsx)(ze.Qr,{control:b,name:"label",defaultValue:"",rules:{required:!0,validate:{containIllegalCharacter:e=>/[`~!#$^&*()=|{}':;'[,[\].<>/?~！#￥……&*（）\-\-|{}【】'；：""'。，、？\\\\]/.test(e)?t("dex-api-key-management-api-illegal-characters",{defaultValue:"Please do not include special characters in label"}):void 0}},render:({field:e})=>(0,a.jsx)(_e.Z,Object.assign({},e,{maxLength:20,autoFocus:!0,variant:"outlineLarge",placeholder:d?"":t("dex-api-key-management-api-label",{defaultValue:"API Label"}),label:t("dex-api-key-management-label",{defaultValue:"Label"}),boxProps:{width:"100%",height:"40px",bg:"bg3"}}),void 0)},void 0),(null===(s=null==h?void 0:h.label)||void 0===s?void 0:s.message)&&(0,a.jsx)(f.Z,Object.assign({variant:"errorHelperText",sx:{fontSize:"14px",color:"errors"}},{children:null===(r=null==h?void 0:h.label)||void 0===r?void 0:r.message}),void 0)]}),void 0)]}),void 0),(0,a.jsxs)(m.Z,Object.assign({mt:3},{children:[(0,a.jsx)(ze.Qr,{control:b,name:"ip",defaultValue:"",rules:{required:!1,validate:{containIllegalCharacter:e=>{const n=e.split(" ").map((e=>e.trim())).filter((e=>!!e));return n.length>500?t("dex-api-key-management-edit-ip-limit-error",{defaultValue:"IP restrictions have a character limit of {count}",count:500}):n.some((e=>!Ve(e)))?t("dex-api-key-management-edit-ip-format-error","Please enter the correct format."):n.some((e=>e===ce))?t("dex-api-key-management-edit-ip-invalid-error"):void 0}}},render:({field:e})=>(0,a.jsx)(_e.Z,Object.assign({},e,{variant:"outlineLarge",placeholder:t("dex-api-key-management-ip-restriction-placeholder",{defaultValue:"When entering more than one IP address, please separate them with spaces."}),label:t("dex-api-key-management-ip-restriction-optional",{defaultValue:"IP Restrictions (Optional)"}),boxProps:{width:"100%",height:"40px",bg:"bg3"}}),void 0)},void 0),(null===(l=null==h?void 0:h.ip)||void 0===l?void 0:l.message)&&(0,a.jsx)(f.Z,Object.assign({variant:"errorHelperText",sx:{fontSize:"14px",color:"errors"}},{children:null===(c=null==h?void 0:h.ip)||void 0===c?void 0:c.message}),void 0)]}),void 0)]}),void 0),(0,a.jsx)(i.Z,Object.assign({flexDirection:"column-reverse",alignItems:"end",mt:"24px"},{children:(0,a.jsx)(v.Z,Object.assign({type:"submit",sz:"normal",disabled:e||!g,minWidth:"164px",sx:{width:["100%","auto"]}},{children:e?(0,a.jsx)(te.Z,{size:24},void 0):t("dex-api-key-management-create-api",{defaultValue:"Create API"})}),void 0)}),void 0)]}),void 0)}),void 0)}),void 0)};var He=n(23716);const De=({getI18n:e,onTrack:t})=>{const[n,i]=(0,o.useState)(),{mutateAsync:s,isLoading:r}=(()=>{const e=(0,q.useQueryClient)(),{web3Adapter:t}=(0,p.dc)();return(0,q.useMutation)((e=>{return n=void 0,a=void 0,i=function*(){if(!(null==t?void 0:t.publicAddress))return;const n=yield(0,ae.Vu)(t.publicAddress,"CREATE_API_KEY"),a=yield null==t?void 0:t.sign(`${t.NONCE_PREFIX}${n.data.nonce}`);return(0,ae.in)({ip:e.ip,desc:e.desc,signature:a,sourceAddr:null==t?void 0:t.publicAddress},e.isSpot)},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{l(i.next(e))}catch(e){t(e)}}function r(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}l((i=i.apply(n,a||[])).next())}));var n,a,o,i}),{onSuccess:()=>{e.invalidateQueries([re])}})})();return n?(0,a.jsx)(Ee,{getI18n:e,apiKey:null==n?void 0:n.apiKey,apiSecret:null==n?void 0:n.apiSecret,ip:null==n?void 0:n.ip,onTrack:t},void 0):(0,a.jsx)(Me,{onSubmit:e=>{return t=void 0,n=void 0,o=function*(){try{const t=e.ip.split(" ").filter((e=>!!e)),{success:n,data:a}=(yield s({desc:e.label,isSpot:Number(e.type)===G.v3.Spot,ip:0===t.length?"":t.join(",")}))||{};n&&i({apiKey:null==a?void 0:a.apiKey,apiSecret:null==a?void 0:a.apiSecret,ip:t})}catch(e){He.error(e)}},new((a=void 0)||(a=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,r)}l((o=o.apply(t,n||[])).next())}));var t,n,a,o},isLoading:r,getI18n:e},void 0)};var Re=n(76635),Fe=n(28684),Be=n(8224);const Ke=({keyId:e,getI18n:t,onTrack:n})=>{const s=(0,o.useRef)(!1),{enqueueNotification:r}=(0,Pe.Z)(),[l,c]=(0,pe.Z)(`dex-api-key-management-ip-list-${e}`,"[]"),{data:d,refetch:u}=de(),x=d.find((t=>t.keyId===e)),{web3Adapter:b}=(0,p.dc)(),[g,h]=(0,o.useState)(""),[j,y]=(0,o.useState)([]),[w,k]=(0,o.useState)((null==x?void 0:x.ips.length)?"restrict":"unrestricted"),[O,C]=(0,o.useState)(""),Z=(0,o.useCallback)((()=>{g.trim()&&(O||(y((e=>(0,Re.uniq)(e.concat(g.split(" ").map((e=>e.trim())).filter((e=>!!e)))))),h("")))}),[O,g,c]),I=(0,o.useCallback)((e=>{y((t=>t.filter((t=>t!==e))))}),[c]),S=(0,o.useCallback)((e=>{13===e.keyCode&&Z()}),[Z]),P=(0,o.useCallback)((e=>{const{value:n}=e.currentTarget;if(h(n),""===n)C("");else{const e=n.split(" ").map((e=>e.trim())).filter((e=>!!e));if(e.length>500)return void C(t("dex-api-key-management-edit-ip-limit-error",{defaultValue:"IP restrictions have a character limit of {{count}}",count:500}));if(e.some((e=>!Ve(e))))return void C(t("dex-api-key-management-edit-ip-format-error","Please enter the correct format."));if(e.some((e=>e===ce)))return void C(t("dex-api-key-management-edit-ip-invalid-error"));C("")}}),[t]),N=(0,Ne.D)((()=>{return a=void 0,o=void 0,s=function*(){if(!(null==b?void 0:b.publicAddress))return;const a=yield(0,ae.Vu)(b.publicAddress,"UPDATE_API_KEY"),o=yield null==b?void 0:b.sign(`${b.NONCE_PREFIX}${a.data.nonce}`),{success:i}=yield(0,ae.o1)({ip:"restrict"===w&&j.length>0?j.join(","):ce,keyId:`${e}`,signature:o,sourceAddr:null==b?void 0:b.publicAddress},(null==x?void 0:x.type)===G.v3.Spot);i?(r(t("dex-api-key-management-edit-suc","Edit API Success"),{variant:"success"}),u(),Q.Y.emit(le,oe),"restrict"===w&&c(JSON.stringify(j))):r(t("dex-api-key-management-edit-failed","Edit API Failed"),{variant:"error"}),n({elementId:"edit_api_key_save",elementName:"API_Management_Popup_Click"})},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i((function(e){e(a)}))).then(n,r)}l((s=s.apply(a,o||[])).next())}));var a,o,i,s})),E=(0,o.useCallback)((()=>{n({elementId:"edit_api_key_cancel",elementName:"API_Management_Popup_Click"}),Q.Y.emit(le,oe)}),[n]);(0,o.useEffect)((()=>{if(s.current){if(l&&"restrict"===w){let e;try{e=JSON.parse(l)}catch(t){e=[]}Array.isArray(e)&&e.length&&y(e)}}else s.current=!0}),[w,l]),(0,o.useEffect)((()=>{y((null==x?void 0:x.ips)||[])}),[null==x?void 0:x.ips]);const A=null==d?void 0:d.find((t=>t.keyId===e)),{key:L="",secretKey:_=""}=A||{};return(0,a.jsx)(m.Z,Object.assign({className:"dex-key-management-wrap-container",sx:{height:["calc(100vh - 64px)","auto !important"]}},{children:(0,a.jsx)("div",Object.assign({className:"dex-key-management-wrap"},{children:(0,a.jsxs)("div",Object.assign({className:"dex-key-management-wrap-body"},{children:[(0,a.jsxs)(m.Z,Object.assign({width:"100%"},{children:[(0,a.jsxs)(i.Z,Object.assign({mb:"24px"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third",flex:1},{children:t("dex-api-key-management-api-key2",{defaultValue:"API Key"})}),void 0),(0,a.jsxs)(i.Z,Object.assign({alignItems:"center"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.primary",maxWidth:["200px","264px"],sx:{overflow:"hidden",textOverflow:"ellipsis"}},{children:L}),void 0),(0,a.jsx)(m.Z,Object.assign({sx:{width:"16px",ml:2}},{children:(0,a.jsx)(ye,{getI18n:t,text:L,color:"t.primary"},void 0)}),void 0)]}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({mb:"24px"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third",flex:1},{children:t("dex-api-key-management-api-secret",{defaultValue:"API Secret"})}),void 0),(0,a.jsx)(i.Z,Object.assign({alignItems:"center"},{children:(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.primary"},{children:_}),void 0)}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({flexDirection:"column",justifyContent:"space-between"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",color:"t.third"},{children:t("dex-api-key-management-ip-restrictions",{defaultValue:"IP restrictions"})}),void 0),(0,a.jsxs)(Fe.QE,Object.assign({value:w,onChange:e=>{k(e)},name:"restrictions",sx:{display:"flex",flexDirection:"column",gap:"24px",my:"24px"}},{children:[(0,a.jsx)(Fe.ZP,Object.assign({value:"unrestricted"},{children:(0,a.jsxs)(i.Z,Object.assign({flexDirection:"column"},{children:[(0,a.jsx)(f.Z,Object.assign({variant:"body2",color:"t.primary"},{children:t("dex-api-key-management-ip-restriction-switch-1",{defaultValue:"Unrestricted (Less Secure)"})}),void 0),(0,a.jsx)(f.Z,Object.assign({variant:"caption",color:"error",mt:"4px"},{children:t("dex-api-key-management-ip-restriction-switch-1-title","This API key allows access from any IP address. This is not recommended.")}),void 0)]}),void 0)}),void 0),(0,a.jsx)(Fe.ZP,{value:"restrict",label:t("dex-api-key-management-ip-restriction-switch-2",{defaultValue:"Restrict access to trusted IPs only (Recommended)"})},void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({mb:"24px",flexDirection:"column"},{children:[(0,a.jsx)(_e.Z,{disabled:"unrestricted"===w,value:g,onChange:P,autoFocus:!0,type:"string",variant:"outlineLarge",placeholder:t("dex-api-key-management-ip-restriction-placeholder",{defaultValue:"When entering more than one IP address, please separate them with spaces. "}),onKeyDown:S,suffix:(0,a.jsx)(f.Z,Object.assign({variant:"body2",color:O?"t.disabled":"t.yellow",mr:"8px",sx:{cursor:O?"not-allowed":"pointer"},onClick:Z},{children:t("dex-api-key-management-confirm-Confirm","Confirm")}),void 0),boxProps:{width:"100%",height:"40px",bg:"bg3",pointerEvents:"unrestricted"===w?"none":"auto"}},void 0),O&&(0,a.jsx)(f.Z,Object.assign({variant:"caption",color:"error",mt:"4px"},{children:O}),void 0)]}),void 0),(0,a.jsx)(i.Z,Object.assign({flexWrap:"wrap",sx:{columnGap:"10px",rowGap:"16px",maxHeight:["unset","116px"],overflowY:"auto",userSelect:"none",display:"unrestricted"===w?"none":"flex"}},{children:j.map((e=>(0,a.jsxs)(i.Z,Object.assign({px:"8px",py:"4px",bg:"t.toast",height:"28px",alignItems:"center",sx:{borderRadius:"28px"}},{children:[(0,a.jsx)(f.Z,Object.assign({mr:"4px",color:"t.yellow",variant:"body2"},{children:e}),void 0),(0,a.jsx)(Be.Z,{color:"t.yellow",size:16,cursor:"pointer",onClick:()=>I(e)},void 0)]}),e)))}),void 0)]}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({sx:{width:["calc(100vw - 40px)","auto"],position:["absolute","unset"],left:["20px","unset"],bottom:["24px","unset"],gap:"16px",mt:"24px"}},{children:[(0,a.jsx)(v.Z,Object.assign({colorStyle:"secondary",sz:"normal",onClick:E,flex:1,minWidth:"164px"},{children:t("dex-api-key-management-edit-cancel",{defaultValue:"Cancel"})}),void 0),(0,a.jsx)(v.Z,Object.assign({sz:"normal",onClick:N,flex:1,minWidth:"164px"},{children:t("dex-api-key-management-edit-save",{defaultValue:"Save"})}),void 0)]}),void 0)]}),void 0)}),void 0)}),void 0)};const Ue=()=>null,We={width:["100%","640px"],bg:"modalBg",minHeight:["100%","auto"],".style-dialog-body":{p:0},".dex-key-management-wrap-container":{display:"flex",py:"24px",position:"relative",height:["calc(100vh - 64px)","448px"],px:0},".dex-key-management-wrap":{display:"flex",px:["24px"],pb:["92px","unset"],overflowY:"auto",pr:["0","24px"],flexDirection:"column",width:"100%",height:["unset","100%"],justifyContent:"space-between"},".dex-key-management-wrap-body":{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",alignItems:"flex-end",overflowY:"auto",pr:["24px","unset"]}},$e=({visible:e,onClose:t,getI18n:n})=>{const[i,s]=(0,o.useState)(oe),[r,l]=(0,o.useState)(0),c=o.useCallback((()=>{null==t||t(),s(oe)}),[t]),d=o.useCallback((()=>{s(oe)}),[]),p=(0,o.useMemo)((()=>{const e=i===ie||i===se,t={[oe]:n("dex-api-key-management-header",{defaultValue:"API Key Management"}),[ie]:n("dex-api-key-management-create-api",{defaultValue:"Create API"}),[se]:n("dex-api-key-management-edit-header",{defaultValue:"Edit API"})};return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(X,{color:"t.placeholder",sx:{float:"left",cursor:"pointer",":hover":{color:"t.third"}},onClick:d},void 0),(0,a.jsx)(f.Z,Object.assign({variant:"headline6",as:"h1",sx:{lineHeight:"25px",pl:"24px"},textAlign:"center"},{children:t[i]}),void 0)]},void 0)}),[i,n,d]);return(0,o.useEffect)((()=>()=>{s(oe)}),[]),(0,o.useEffect)((()=>Q.Y.on(le,((e,t)=>{e===se&&l(t),s(e)}))),[]),(0,a.jsxs)(M.Z,Object.assign({title:p,open:e,showTitleBottomLine:!1,onCloseIconClick:c,sx:We},{children:[i===oe&&(0,a.jsx)(Se,{getI18n:n},void 0),i===ie&&(0,a.jsx)(De,{getI18n:n,onTrack:Ue},void 0),i===se&&(0,a.jsx)(Ke,{getI18n:n,keyId:r,onTrack:Ue},void 0)]}),void 0)},Ye=e=>{var t,n,{reactQueryClientConfig:i,tradeType:s=G.v3.Futures,isSupportSpot:r=!1}=e,l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["reactQueryClientConfig","tradeType","isSupportSpot"]);const c=(0,o.useMemo)((()=>{var e,t;return new q.QueryClient({queryCache:null==i?void 0:i.queryCache,mutationCache:null==i?void 0:i.mutationCache,defaultOptions:{queries:Object.assign({refetchOnWindowFocus:!1,retry:!1},null===(e=null==i?void 0:i.defaultOptions)||void 0===e?void 0:e.queries),mutations:Object.assign({},null===(t=null==i?void 0:i.defaultOptions)||void 0===t?void 0:t.mutations)}})}),[null===(t=null==i?void 0:i.defaultOptions)||void 0===t?void 0:t.mutations,null===(n=null==i?void 0:i.defaultOptions)||void 0===n?void 0:n.queries,null==i?void 0:i.mutationCache,null==i?void 0:i.queryCache]);return(0,a.jsx)(q.QueryClientProvider,Object.assign({client:c},{children:(0,a.jsx)(G.B9,Object.assign({tradeType:s,isSupportSpot:r},{children:(0,a.jsx)($e,Object.assign({},l),void 0)}),void 0)}),void 0)},Ge=()=>{const{getI18n:e}=(0,h.HK)(),[t,n]=(0,o.useState)(!1),i=(0,o.useCallback)((()=>{n(!1)}),[]);return{handleAPIKeyManagementDialogOpen:(0,o.useCallback)((()=>{n(!0)}),[]),apiKeyManagementDialog:(0,a.jsx)(Ye,{getI18n:e,visible:t,onClose:i,tradeType:G.v3.Futures,isSupportSpot:!0},void 0)}};const Qe=e=>{var{accountAddress:t}=e,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["accountAddress"]);return(0,a.jsxs)(v.Z,Object.assign({},n,{colorStyle:"secondary",className:"account-button"},{children:[(0,a.jsx)("span",Object.assign({className:"user-address"},{children:$(t)}),void 0),(0,a.jsx)(T,{size:18},void 0)]}),void 0)},qe=({accountAddress:e,getI18n:t,logout:n})=>{const[i,s]=(0,o.useState)(!1),{handleAPIKeyManagementDialogOpen:r,apiKeyManagementDialog:l}=Ge();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.Z,Object.assign({open:i,onCloseIconClick:()=>s(!1),onPressEnter:()=>s(!1),onPressEsc:()=>s(!1),sx:{width:["100%","500px"]}},{children:(0,a.jsx)(Y,{accountAddress:e,getI18n:t,logout:n,onApiManagementClick:r},void 0)}),void 0),(0,a.jsx)(Qe,{accountAddress:e,onClick:()=>s(!0)},void 0),l]},void 0)},Xe=({accountAddress:e,getI18n:t,logout:n})=>{const{handleAPIKeyManagementDialogOpen:o,apiKeyManagementDialog:i}=Ge();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.ZP,Object.assign({trigger:"hover",display:"flex",overlay:(0,a.jsx)(Y,{accountAddress:e,getI18n:t,logout:n,onApiManagementClick:o},void 0)},{children:(0,a.jsx)(Qe,{accountAddress:e},void 0)}),void 0),i]},void 0)},Je=function(e){return o.createElement(w.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{fillRule:"evenodd",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm.001 18c.007 0 .03-.002.078-.024.06-.027.164-.089.303-.22.288-.27.638-.755.976-1.506.584-1.297 1.013-3.128 1.118-5.25H9.524c.105 2.122.534 3.953 1.118 5.25.338.75.688 1.236.976 1.507.139.13.243.192.303.22.05.022.072.023.078.023H12zm-3.023-.59c-.804-1.62-1.343-3.876-1.456-6.41h-3.46a8.009 8.009 0 004.916 6.41zM4.062 11h3.46c.113-2.534.652-4.79 1.456-6.41A8.008 8.008 0 004.062 11zm7.94-7c.005 0 .027.001.077.024.06.027.164.089.303.22.288.27.638.755.976 1.506.584 1.297 1.013 3.128 1.118 5.25H9.524c.105-2.122.534-3.953 1.118-5.25.338-.75.688-1.236.976-1.507.139-.13.243-.192.303-.22a.2.2 0 01.08-.023zm7.936 9a8.008 8.008 0 01-4.916 6.41c.804-1.62 1.343-3.876 1.456-6.41h3.46zm0-2a8.008 8.008 0 00-4.916-6.41c.804 1.62 1.343 3.876 1.456 6.41h3.46z",clipRule:"evenodd"}))};var et=n(72779),tt=n.n(et);const nt={bg:"popupBg",borderRadius:["0px","0px","16px"],textAlign:"center",boxShadow:["none","none","elevation2"],width:["100%","240px"],cursor:"pointer",marginTop:["0px","0px","18px"],overflowY:"auto",height:"240px",".item":{py:["16px","10px"],color:["t.secondary","t.secondary","t.primary"],textAlign:["left","center"],fontSize:["16px","14px"],":hover":{bg:["transparent","transparent","bg3"]},"&.active":{bg:["transparent","transparent","bg3"],color:["t.primary","t.primary","t.primary"]}}},at=({locale:e,locales:t,onLocaleChange:n})=>(0,a.jsx)(m.Z,Object.assign({sx:nt},{children:t.map((({key:t,label:o})=>(0,a.jsx)("div",Object.assign({className:tt()({item:!0,active:t===e}),onClick:()=>n(t)},{children:o}),t)))}),void 0),ot=e=>(0,a.jsx)(H.ZP,Object.assign({trigger:"hover",display:"flex",overlay:(0,a.jsx)(at,Object.assign({},e),void 0),placement:"bottom"},{children:(0,a.jsx)(Je,{cursor:"pointer",size:20,sx:{color:"t.secondary","&:hover":{opacity:.65}}},void 0)}),void 0);var it=n(39353),st=n(43757),rt=n(23716);const lt={cursor:"pointer",height:"100%",".network-overview":{padding:"6px 10px",bg:"line",borderRadius:"4px",".network-logo":{mr:"4px",width:"20px",height:"20px",color:"t.third"},".network-text":{fontWeight:400,color:"t.primary",display:["none","block","block"]}}},ct={borderRadius:"0 0 8px 8px",minWidth:188,mx:"8px",boxShadow:["none","none","elevation2"],bg:"popupBg",".network-overview":{height:"56px",padding:"18px 16px",cursor:"pointer",color:"t.primary","&.active":{position:"relative","&::after":{content:'""',position:"absolute",right:"16px",top:"24px",width:"8px",height:"8px",borderRadius:"50%",bg:"t.buy"}},"&:hover":{color:"t.yellow"},".network-logo":{mr:"8px",width:"20px",height:"20px"},".network-text":{fontWeight:400}}},dt={[p.Zc.ETH]:"wallet/eth-logo.svg",[p.Zc.BSC]:"wallet/bsc-logo.svg"},pt=e=>{const t=[p.Zc.ETH,p.Zc.BSC],n=t.findIndex((t=>t===e));return-1===n?t.length:n},ut=e=>{var{staticHost:t}=e,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["staticHost"]);const{supportNetworks:s,networkType:r,web3Adapter:l,transferNetworkToName:c,setExpectedConnectNetwork:d}=(0,p.dc)(),x=(0,u._n)(),b=(0,o.useCallback)((e=>{if(x){if(e!==r)try{null==l||l.switchToNetwork(e)}catch(e){rt.log(e)}}else d(e)}),[l,r,x,d]);return(0,a.jsx)(m.Z,Object.assign({sx:ct},n,{children:s.sort(((e,t)=>pt(e)-pt(t))).map((e=>(0,a.jsxs)(i.Z,Object.assign({className:tt()("network-overview",{active:!!x&&r===e}),onClick:b.bind(null,e)},{children:[(0,a.jsx)(st.Z,{className:"network-logo",src:`${t}/${dt[e]}`},void 0),(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",className:"network-text"},{children:c(e)}),void 0)]}),e)))}),void 0)},xt=({sx:e={},staticHost:t})=>{const{coinName:n,networkType:o,expectedConnectNetwork:s,transferNetworkToSymbolName:r}=(0,p.dc)(),l=(0,u._n)();return(0,a.jsx)(H.ZP,Object.assign({enablePortal:!0,overlay:(0,a.jsx)(ut,{staticHost:t},void 0)},{children:(0,a.jsx)(i.Z,Object.assign({sx:Object.assign(Object.assign({mx:"0"},lt),e)},{children:(0,a.jsxs)(i.Z,Object.assign({className:"network-overview"},{children:[(0,a.jsx)(st.Z,{className:"network-logo",src:`${t}/${dt[l?o:s]}`},void 0),(0,a.jsx)(f.Z,Object.assign({variant:"subtitle2",className:"network-text"},{children:l?n:s&&r(s)}),void 0),(0,a.jsx)(T,{size:18,className:"dropdown-arrow"},void 0)]}),void 0)}),void 0)}),void 0)},{headerConfig:bt,imageBaseUrl:gt}=O.ll,ht=o.memo((({locales:e,logoutAndClearCookie:t,onLocaleChange:n})=>{const{isLight:i}=(0,u.PS)(),s=(0,u._n)(),{getI18n:r,i18n:{language:l}}=(0,h.HK)(),{getI18n:c}=(0,h.Ec)(),{address:d,showWalletConnectDialog:x}=(0,p.dc)(),b=(0,o.useRef)(null),g=(0,o.useMemo)((()=>bt.desktopDarkLogoUrl||bt.desktopLightLogoUrl?i?bt.desktopLightLogoUrl:bt.desktopDarkLogoUrl:null),[i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"logo"},{children:g&&(0,a.jsx)(m.Z,Object.assign({as:bt.logoUrl?"a":"div",href:bt.logoUrl,target:"_parent",sx:{display:"block",lineHeight:1}},{children:(0,a.jsx)("img",{src:g,className:"desktopLogo"},void 0)}),void 0)}),void 0),(0,a.jsx)("div",Object.assign({className:"menu"},{children:bt.swapUrl&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,Object.assign({variant:"text",className:"perpetual-button"},{children:c("Perpetuals",{defaultValue:"Perpetuals"})}),void 0),(0,a.jsx)(v.Z,Object.assign({as:"a",variant:"text",className:"swap-button",target:"_parent",href:bt.swapUrl},{children:c("Swap",{defaultValue:"Swap"})}),void 0)]},void 0)}),void 0),(0,a.jsxs)("div",Object.assign({className:"suffix-menu",ref:b},{children:[(0,a.jsx)(V,{},void 0),bt.customerServiceUrl&&(0,a.jsx)(j.Z,Object.assign({tip:(0,a.jsx)(f.Z,Object.assign({color:"bg2"},{children:c("customer-service-tooltip",{defaultValue:"Submit a ticket"})}),void 0),arrow:!0,placement:"bottom",enablePortal:!0,bg:"bg4",container:b.current},{children:(0,a.jsx)("a",Object.assign({href:(0,C.CN)(bt.customerServiceUrl,{ZENDESK_LOCALE:(0,y.s)(l)}),target:"_blank",rel:"noopener noreferrer"},{children:(0,a.jsx)(k,{className:"customer-service-icon"},void 0)}),void 0)}),void 0),(0,a.jsx)(ot,{locale:l,locales:e,onLocaleChange:n},void 0),(0,a.jsx)(it.Z,{},void 0),(0,a.jsx)(xt,{staticHost:gt},void 0),s?(0,a.jsx)(Xe,{accountAddress:d||"",logout:t,getI18n:r},void 0):(0,a.jsx)(v.Z,Object.assign({className:"connect-button",onClick:x},{children:r("dex-header-ConnectWallet",{defaultValue:"Connect Wallet"})}),void 0)]}),void 0)]},void 0)}));var mt=n(24399),vt=n(52105);const ft={".modal-title":{border:"none"}},jt=e=>{var{locale:t,locales:n,onLocaleChange:o}=e,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["locale","locales","onLocaleChange"]);const{getI18n:s}=(0,h.Ec)();return(0,a.jsx)(M.Z,Object.assign({title:s("Language",{defaultValue:"Language"}),containerSx:ft},i,{children:(0,a.jsx)(at,{locale:t,locales:n,onLocaleChange:o},void 0)}),void 0)};var yt=n(12167);const wt={".modal-title":{border:"none"},".item":{width:["100%","240px"],display:"flex",justifyContent:"space-between",alignItems:"center",color:"t.secondary",py:"16px",fontSize:"16px"}},kt=e=>{const{getI18n:t}=(0,h.Ec)(),{getI18n:n}=(0,h.ZK)();return(0,a.jsx)(M.Z,Object.assign({title:t("Settings",{defaultValue:"Settings"}),containerSx:wt},e,{children:(0,a.jsxs)("div",Object.assign({className:"item"},{children:[n("trd-layout-setting-theme",{defaultValue:"Theme"}),(0,a.jsx)(yt.Z,{},void 0)]}),void 0)}),void 0)},Ot={menuOpen:!1,languageOpen:!1,settingsOpen:!1};function Ct(e,t){switch(t.type){case"openMenu":return Object.assign(Object.assign({},Ot),{menuOpen:!0});case"openLanguage":return Object.assign(Object.assign({},Ot),{languageOpen:!0});case"openSettings":return Object.assign(Object.assign({},Ot),{settingsOpen:!0});case"close":default:return Ot}}const{headerConfig:Zt}=O.ll,It=Object.assign(Object.assign({".modal-title":{border:"none",pl:"36px"},".menu-container":{display:"flex",flexDirection:"column",alignItems:"flex-start","&.upper":{borderBottom:"1px solid",borderColor:"line"}},".menu-item":{color:"t.secondary",py:"16px",fontSize:"16px",justifyContent:"space-between",display:"flex",width:"100%",svg:{color:"t.secondary"},"&:hover svg":{color:"t.secondary"}}},b),x),St={width:["100%","375px"],position:["static","absolute"],right:0,top:"64px",height:"100% !important"},Pt=({locale:e,locales:t,onLocaleChange:n,isTablet:i})=>{var s;const[{menuOpen:r,languageOpen:l,settingsOpen:c},d]=(0,o.useReducer)(Ct,Ot),{getI18n:p}=(0,h.Ec)(),u={onCloseIconClick:()=>d({type:"close"}),onPressEnter:()=>d({type:"close"}),onPressEsc:()=>d({type:"close"})},x=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"upper menu-container"},{children:Zt.swapUrl&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,Object.assign({variant:"text",className:"perpetual-button"},{children:p("Perpetuals",{defaultValue:"Perpetuals"})}),void 0),(0,a.jsx)(v.Z,Object.assign({as:"a",variant:"text",target:"_parent",className:"swap-button",href:Zt.swapUrl},{children:p("Swap",{defaultValue:"Swap"})}),void 0)]},void 0)}),void 0),(0,a.jsxs)("div",Object.assign({className:"lower menu-container"},{children:[(0,a.jsxs)(v.Z,Object.assign({variant:"text",className:"menu-item",as:"a"},{children:[p("customer-service-tooltip",{defaultValue:"Submit a ticket"}),(0,a.jsx)(k,{},void 0)]}),void 0),(0,a.jsxs)(v.Z,Object.assign({variant:"text",className:"menu-item",onClick:()=>d({type:"openSettings"})},{children:[p("Settings",{defaultValue:"Settings"}),(0,a.jsx)(mt.Z,{},void 0)]}),void 0),(0,a.jsxs)(v.Z,Object.assign({variant:"text",className:"menu-item",onClick:()=>d({type:"openLanguage"})},{children:[(null===(s=t.find((({key:t})=>t===e)))||void 0===s?void 0:s.label)||"English",(0,a.jsx)(Je,{},void 0)]}),void 0)]}),void 0)]},void 0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.Z,Object.assign({open:r,title:(0,a.jsx)(V,{},void 0),sx:St,containerSx:It,maskSx:i&&{bg:"transparent"},onMaskClick:i?()=>d({type:"close"}):void 0},u,{children:x}),void 0),(0,a.jsx)(jt,Object.assign({open:l,locale:e,locales:t,onLocaleChange:n},u),void 0),(0,a.jsx)(kt,Object.assign({open:c},u),void 0),(0,a.jsx)(vt.Z,{className:"hamburger-icon",onClick:()=>d({type:"openMenu"})},void 0)]},void 0)},{headerConfig:Nt,imageBaseUrl:Et}=O.ll,At=o.memo((({locales:e,logoutAndClearCookie:t,onLocaleChange:n})=>{const{isLight:i}=(0,u.PS)(),s=(0,u._n)(),{getI18n:r,i18n:{language:l}}=(0,h.HK)(),{getI18n:c}=(0,h.Ec)(),{address:d,showWalletConnectDialog:x}=(0,p.dc)(),b=(0,o.useMemo)((()=>Nt.desktopDarkLogoUrl||Nt.desktopLightLogoUrl?i?Nt.desktopLightLogoUrl:Nt.desktopDarkLogoUrl:null),[i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"logo"},{children:Nt.logoUrl&&b&&(0,a.jsx)(m.Z,Object.assign({as:"a",target:"_parent",href:Nt.logoUrl,sx:{display:"block",lineHeight:1}},{children:(0,a.jsx)("img",{src:b,className:"mobileLogo"},void 0)}),void 0)}),void 0),(0,a.jsx)("div",Object.assign({className:"menu"},{children:Nt.swapUrl&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,Object.assign({variant:"text",className:"perpetual-button"},{children:c("Perpetuals",{defaultValue:"Perpetuals"})}),void 0),(0,a.jsx)(v.Z,Object.assign({as:"a",variant:"text",target:"_parent",className:"swap-button",href:Nt.swapUrl},{children:c("Swap",{defaultValue:"Swap"})}),void 0)]},void 0)}),void 0),(0,a.jsxs)("div",Object.assign({className:"mobile-menus"},{children:[(0,a.jsx)(xt,{staticHost:Et},void 0),s?(0,a.jsx)(Xe,{accountAddress:d||"",logout:t,getI18n:r},void 0):(0,a.jsx)(v.Z,Object.assign({className:"connect-button",onClick:x},{children:r("dex-header-ConnectWallet",{defaultValue:"Connect Wallet"})}),void 0),(0,a.jsx)(Pt,{locale:l,locales:e,onLocaleChange:n},void 0)]}),void 0)]},void 0)})),{headerConfig:Lt,imageBaseUrl:_t}=O.ll,zt=o.memo((({locales:e,logoutAndClearCookie:t,onLocaleChange:n})=>{const{isLight:i}=(0,u.PS)(),s=(0,u._n)(),{getI18n:r,i18n:{language:l}}=(0,h.HK)(),{address:c,showWalletConnectDialog:d}=(0,p.dc)(),x=(0,o.useMemo)((()=>Lt.desktopDarkLogoUrl||Lt.desktopLightLogoUrl?i?Lt.desktopLightLogoUrl:Lt.desktopDarkLogoUrl:null),[i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:"logo"},{children:Lt.logoUrl&&x&&(0,a.jsx)(m.Z,Object.assign({as:"a",target:"_parent",href:Lt.logoUrl,sx:{display:"block",lineHeight:1}},{children:(0,a.jsx)("img",{src:x,className:"mobileLogo"},void 0)}),void 0)}),void 0),(0,a.jsxs)("div",Object.assign({className:"mobile-menus"},{children:[(0,a.jsx)(xt,{staticHost:_t},void 0),s?(0,a.jsx)(qe,{accountAddress:c||"",logout:t,getI18n:r},void 0):(0,a.jsx)(v.Z,Object.assign({className:"connect-button",onClick:d},{children:r("dex-header-ConnectWallet",{defaultValue:"Connect Wallet"})}),void 0),(0,a.jsx)(Pt,{locale:l,locales:e,onLocaleChange:n},void 0)]}),void 0)]},void 0)})),Vt=o.memo((e=>{const{isMobile:t,isIPad:n}=(0,h.Fs)();return t?(0,a.jsx)(zt,Object.assign({},e),void 0):n?(0,a.jsx)(At,Object.assign({},e),void 0):(0,a.jsx)(ht,Object.assign({},e),void 0)})),Tt=Object.keys(d.languageMap).map((e=>({key:e,label:d.languageMap[e]}))),Mt=o.memo((()=>{const{logout:e}=(0,p.dc)(),t=(0,u._n)(),n=(0,u.el)(),d=(0,o.useCallback)((()=>{e().then((()=>{s.Q.erase("logined"),s.Q.erase("p20t"),s.Q.erase("cr00"),s.Q.erase("cid"),window.location.reload()})).then((()=>{}))}),[e]),x=(0,o.useCallback)((e=>{var a,o,i;t&&(o=(a={configName:e,configType:"preferLang"}).configName,i=a.configType,(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,c.v_)("/bapi/accounts/v1/private/account/user-config/save",{configName:o,configType:i})];case 1:return[2,e.sent()]}}))}))),s.Q.erase("lang"),s.Q.write("lang","",-1,!1),s.Q.write("lang",e.toLowerCase()),r.tO.setItem("chatLang",e),n(e)}),[n,t]);return(0,a.jsx)(i.Z,Object.assign({sx:g},{children:(0,a.jsx)(Vt,{locales:Tt,onLocaleChange:x,logoutAndClearCookie:d},void 0)}),void 0)}))},64085:(e,t,n)=>{n.d(t,{languageMap:()=>i.Q}),n(98537),n(54132);var a=n(98641),o=n.n(a);n(46206),o().unsubscribe;var i=n(22186)}}]);