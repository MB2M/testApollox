"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[677],{68839:(e,t,i)=>{i.d(t,{Z:()=>l}),i(2784);var n,r=i(7688),s=i(52322);e=i.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o=function(e){var t=e.width,i=e.height,n=e.extend,o=e.children;return n?o({width:t,height:i}):(0,s.jsx)(r.Z,{children:o})},a=o;const l=a;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(o,"MyAutoSizer","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js"),d.register(a,"default","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},83166:(e,t,i)=>{i.d(t,{pB:()=>I});var n=i(38777),r=i(56666),s=i(59740),o=i(20115),a=i(98331),l=i(20512),d=i(52613),c=i(18760),u=i(88133),p=i(2784),g=i(68839),h=i(49967),x=i(62252),m=i(52322);e=i.hmd(e);var y,f=["children","i18nKey","i18nDefault"],v=["loading","listGridProps","header","getListGridConfig","resetDeps","emptyNode","autoSizerProps"],b=["listGridConfig","renderHeaderCell","data","style"];function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&y(e);var C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S="trd-common",k=function(e){return(0,x.ZK)(S,e)};C(k,"useBaseLanguage{}",(function(){return[x.ZK]}));var I=function(e){var t=e.children,i=e.i18nKey,n=void 0===i?"nodata":i,r=e.i18nDefault,o=void 0===r?"no data":r,a=(0,s.Z)(e,f),d=k().getI18n;return(0,m.jsx)(l.Z,O(O({variant:"columns.emptyLine",__css:{height:"100%",width:"100%",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},a),{},{children:t||d(n,{defaultValue:o})}))};C(I,"useLanguage{{ getI18n }}",(function(){return[k]}));var w=function(e){var t=e.loading,i=void 0!==t&&t,r=e.listGridProps,l=void 0===r?{}:r,x=e.header,y=void 0===x?null:x,f=e.getListGridConfig,j=void 0===f?function(e){return e}:f,C=e.resetDeps,S=void 0===C?[]:C,k=e.emptyNode,w=void 0===k?(0,m.jsx)(I,{}):k,Z=e.autoSizerProps,P=(0,s.Z)(e,v),T=(0,p.useRef)(null),V=l||{},R=V.listGridConfig,N=V.renderHeaderCell,_=V.data,E=V.style,M=(0,s.Z)(V,b);(0,a.Z)((function(){if(T&&T.current){var e=T.current.listRef;if(e&&e.current){var t=e.current,i=e.current.state,n=Math.floor(i.scrollOffset/32);t.resetAfterIndex(n,!0)}}}),1e3/60,(0,n.Z)(S));var A=(0,o.tZ)(),L=(0,u.cp)(A),H=y?[{header:!0}].concat(_):_,B=!i&&!_.length;return(0,m.jsxs)(d.Z,O(O({__css:{position:"relative",flex:1}},P),{},{children:[(0,m.jsx)(h.Z,{fullScreen:!0,inner:!0,show:i}),(0,m.jsx)(g.Z,O(O({},Z),{},{children:function(e){var t=e.height,i=e.width;return B?(0,m.jsxs)(d.Z,{sx:{height:t,width:i,display:"flex",alignItems:"center",justifyContent:"center"},children:[y,w]}):(0,m.jsx)(c.Z,O(O({threshold:5,style:O({direction:L},E)},M),{},{className:"list-grid",ref:T,data:H,renderHeaderCell:N,listGridConfig:j(O(O({collapseHeight:80},R),{},{height:Math.max(t,0),width:i}))}))}}))]}))};C(w,"useRef{listGridRef}\nuseDebounce{}\nuseLng{lang}",(function(){return[a.Z,o.tZ]}));var Z,P,T=p.memo(w);(Z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Z.register(S,"prefix","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),Z.register(k,"useLanguage","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),Z.register(I,"EmptyText","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),Z.register(w,"EmptyGrid","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),Z.register(T,"default","/Users/leo/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},18760:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(5163),r=i(2784),s=i(8301),o=i(11628),a=i(52613),l=i(35635),d=i(57808),c=i(86778),u=i(70047);const p=function(e){return r.createElement(u.Z,(0,n.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M15 15a1 1 0 001-1v-.514a1 1 0 00-.286-.7l-3-3.058a1 1 0 00-1.428 0l-3 3.057a1 1 0 00-.286.7V14a1 1 0 001 1h6z"}))};var g=i(32371),h=function(e){return r.createElement(a.Z,(0,n.__assign)({tx:"listGrid",variant:"default",__css:{overflow:"hidden",boxSizing:"border-box",borderBottom:"1px solid",transition:"all 0.2s ease-in"}},e))},x=function(e){return r.createElement(a.Z,(0,n.__assign)({tx:"listGrid",variant:"default",__css:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0",padding:"0 16px"}},e))},m=function(e){return r.createElement(x,(0,n.__assign)({tx:"listGrid",mt:"24px",mb:"16px",variant:"header"},e))};const y=function(e){function t(t){var i=e.call(this,t)||this;return i.displayName="ListGrid",i.listRef=r.createRef(),i.getSelectKey=function(e){var t=i.props.rowKey;return-1===e?-1:t?"function"==typeof t?t(e):e[t]:e.key},i.getSelectKeyWithIndex=function(e,t){var n=i.getSelectKey(e);return void 0===n?t:n},i.getItemSize=function(e){var t=i.props.listGridConfig;return 0===e&&t.headerCellHeight?t.headerCellHeight:e===i.getEmptyDataIndex()&&t.emptyCellHeight?t.emptyCellHeight:void 0===t.expandHeight?t.collapseHeight:e===i.state.expandItemIndex?t.expandHeight:t.collapseHeight},i.isItemLoaded=function(e){return e<i.props.data.length},i.getEmptyDataIndex=function(){var e=i.props,t=e.data,n=e.renderHeaderCell;if("function"==typeof e.renderEmptyCell){if(0===t.length)return 0;if(1===t.length&&n)return 1}return-1},i._row=function(e){var t=e.index,n=e.style,s=i.props,o=s.columns,d=s.data,c=s.loadingPlaceholder,u=s.listGridConfig,y=s.renderHeaderCell,f=s.renderEmptyCell,v=s.onSelect;if(0===t&&"function"==typeof y)return y();if(i.getEmptyDataIndex()===t&&"function"==typeof f)return f();if(!i.isItemLoaded(t))return r.createElement(a.Z,{style:n},c);var b=d[t],j=i.getSelectKeyWithIndex(b,t);return r.createElement(h,{style:n},o.map((function(e,n){return 0===n?r.createElement(m,{key:n,onClick:function(){return i.handleExpandAndCollapse(t)}},r.createElement(l.Z,{flex:1,alignItems:"center",onClick:v?function(e){e.stopPropagation(),e.preventDefault(),i.handleSelectRow(j)}:void 0},v&&i._checkbox(b,t)," ",i._cell(b,e)),u.expandHeight&&r.createElement(a.Z,{pl:"20px"},t===i.state.expandItemIndex?r.createElement(p,{tx:"listGrid",variant:"toggleIcon"}):r.createElement(g.Z,{tx:"listGrid",variant:"toggleIcon"}))):r.createElement(x,{alignItems:"flex-start",key:n},!o[n].hideTitle&&r.createElement(a.Z,{tx:"listGrid",variant:"leftHeader",__css:{whiteSpace:"nowrap",flexShrink:0}},o[n].title),r.createElement(a.Z,{tx:"listGrid",flex:1,variant:o[n].hideTitle?"":"rightContent"},i._cell(b,e)))})))},i._cell=function(e,t){return"function"==typeof t.render?t.render(e[t.dataIndex],e):e[t.dataIndex]},i._checkbox=function(e,t){var n=i.getSelectKeyWithIndex(e,t);return r.createElement(d.Z,{tx:"listGrid",variant:"checkbox"},r.createElement(c.Z,{checked:i.state.selectedKeySet.has(n),readOnly:!0}))},i.toggleAllSelection=function(e){void 0===e&&(e=!1);var t=i.props,n=t.data,r=t.renderHeaderCell,s=i.state.selectedKeySet;if(e)for(var o=0;o<n.length;o++)0===o&&r||s.add(i.getSelectKeyWithIndex(n[o],o));else s.clear();i.renderAndOnSelect()},i.state={expandItemIndex:-1,selectedKeySet:new Set},i}return(0,n.__extends)(t,e),t.getDerivedStateFromProps=function(e){return e.selectedKeys?{selectedKeySet:new Set(e.selectedKeys)}:null},t.prototype.handleExpandAndCollapse=function(e){var t=Math.min(e,this.state.expandItemIndex);t<0&&(t=0),this.state.expandItemIndex===e?this.setState({expandItemIndex:-1}):this.setState({expandItemIndex:e}),this.listRef.current&&this.listRef.current.resetAfterIndex(t,!0)},t.prototype.handleSelectRow=function(e){var t=this.state.selectedKeySet;t.has(e)?t.delete(e):t.add(e),this.renderAndOnSelect()},t.prototype.renderAndOnSelect=function(){var e=this,t=this.state.selectedKeySet,i=this.props,n=i.data,r=i.onSelect,s=i.renderHeaderCell,o=Array.from(t).sort((function(e,t){return e-t})),a=[];n.forEach((function(i,n){t.has(e.getSelectKeyWithIndex(i,n))&&a.push(n)})),r&&r(s?a.map((function(e){return e-1})):a,o),this.setState({selectedKeySet:new Set(o)}),this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)},t.prototype.render=function(){var e=this,t=this.props,i=t.data,a=t.hasMore,l=t.loadMore,d=void 0===l?function(){return Promise.resolve()}:l,c=t.listGridConfig,u=t.threshold,p=void 0===u?15:u,g=(0,n.__rest)(t,["data","hasMore","loadMore","listGridConfig","threshold"]),h=a?i.length+1:i.length;return-1!==this.getEmptyDataIndex()&&h++,r.createElement(o.Z,{threshold:p,isItemLoaded:this.isItemLoaded,itemCount:h,loadMoreItems:d},(function(t){var i=t.onItemsRendered,o=t.ref;return r.createElement(s.S_,(0,n.__assign)({},g,{height:c.height,itemCount:h,itemSize:e.getItemSize,onItemsRendered:i,ref:function(t){o(t),e.listRef={current:t}},width:c.width}),e._row)}))},t}(r.PureComponent)},86370:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(2784),r=i(23716);const s=(0,n.createContext)({symbol:"",changeSymbol:e=>{r.info(e)},useColumn:e=>({}),actionModifyOrder:e=>Promise.resolve(),actionCancel:(e,t)=>Promise.resolve(),actionModifyConfirmModal:(e,t,i)=>!1,actionStrategyModal:e=>!1,useStrategyOrder:(...e)=>({}),checked:!0,handleHideOtherPairs:e=>!0,emptyText:"You have no open orders.",headers:[]})},68075:(e,t,i)=>{i.d(t,{HU:()=>c,ZP:()=>u,f8:()=>d});var n=i(52322),r=i(2784),s=i(56557),o=i(35635),a=i(86370),l=i(38261);const d={bg:"modalBg",p:0,py:"4px",mt:"8px"},c={alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",lineHeight:"16px",p:"minor",whiteSpace:"nowrap",height:"24px",minWidth:"96px",color:"t.primary",":hover":{bg:"line"}},u=r.memo((()=>{const{getI18n:e}=(0,l.Z)(),{actionCancel:t}=(0,r.useContext)(a.Z);return(0,n.jsx)(s.Z,Object.assign({sx:d},{children:[{text:e("actionAll",{defaultValue:"All"}),message:e("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"})},{text:e("actionLimit",{defaultValue:"Limit"}),message:e("actionLimitMsg",{defaultValue:"Are you sure to cancel all Limit orders?"})},{text:e("actionStopLimit",{defaultValue:"Stop-Limit"}),message:e("actionStopLimitMsg",{defaultValue:"Are you sure to cancel all Stop-Limit orders?"})}].map(((e,i)=>(0,n.jsx)(o.Z,Object.assign({sx:c,onClick:()=>{t(i,e.message)}},{children:e.text}),i)))}),void 0)}))},38261:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(62252);const r=e=>(0,n.ZK)("trd-openOrder",e)},3677:(e,t,i)=>{i.r(t),i.d(t,{default:()=>it});var n=i(52322),r=i(2784),s=i(39727),o=i(15763),a=i(52613),l=i(35635),d=i(44520),c=i(45455),u=i.n(c),p=i(78458),g=i(24918),h=i(62252),x=i(37147),m=i(82732),y=i(36461),f=i(82696),v=i(72869),b=i(42166),j=i(4673),O=i(20629),C=i(66747),S=i(81345),k=i(5848),I=i(38261),w=i(31161);const Z=(0,j.nM)(),P=e=>Z?(({symbol:e,insertTime:t,side:i,origType:n,type:r,price:s,origQty:o,executedQty:a,stopPrice:l,workingType:d,activatePrice:c,avgPrice:u,priceRate:p})=>{var g;const{getI18n:x}=(0,I.Z)(),{isCoinUnit:k}=(0,w.Q)(),{getI18n:Z}=(0,h.yk)(),P=(0,m.AM)()[e]||{},{equalQtyPrecision:T,pricePrecision:V,quantityPrecision:R,marginAsset:N,contractVal:_=100}=P,{tickers:E={}}=(0,y.s)((0,j.BN)())||{},{lastPrice:M}=E[e]||{},A=(0,O.i)({side:i,type:n}),L=Number(l)||Number(s),H=(0,f.uf)(L,V);let B=A&&L&&H?`${x(null===(g=C.HZ[d])||void 0===g?void 0:g.replace(/\s/g,"-"),{defaultValue:C.HZ[d]})} \r\n${[A,H].join(" ")}`:j.GR;Number(c)&&(B=`${Z("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===i?"<=":">=",(0,f.uf)(c,V)].join(" ")}`);const F=C.Y1.includes(r)?j.GR:(0,f.uf)(s,V),G=Z("Cont",{defaultValue:"Cont"}),z=C.cQ.includes(r)?l:"TRAILING_STOP_MARKET"===r?c||M:s;let D,$=e;return P&&(D=(0,v.H)(P,Z),$=D.shortName),{nextDate:(0,b.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:$,symbolName:D,nextType:x(`type-${r}`,{defaultValue:r})||r,nextPrice:F,nextAmount:k?`${(0,S.unitChangeCoinQty)({quantity:o,contractVal:_,price:z,precision:T})} ${N}`:`${(0,f.uf)(o,R)} ${G}`,nextFilled:k?`${(0,S.unitChangeCoinQty)({quantity:a,contractVal:_,price:u,precision:T})} ${N}`:`${(0,f.uf)(a,R)} ${G}`,nextTriggerConditions:B}})(e):(({symbol:e,insertTime:t,side:i,origType:n,type:r,price:s,origQty:o,executedQty:a,stopPrice:l,workingType:d,activatePrice:c,avgPrice:u})=>{var p;const{getI18n:g}=(0,I.Z)(),{getI18n:x}=(0,h.yk)(),S=(0,m.AM)()[e]||{},{getFormatedQuantity:w}=(0,k.s7)(S),{pricePrecision:Z,quantityPrecision:P}=S,{tickers:T={}}=(0,y.s)((0,j.BN)())||{},{lastPrice:V}=T[e]||{},R=(0,O.i)({side:i,type:n}),N=Number(l)||Number(s),_=(0,f.uf)(N,Z);let E=R&&N&&_?`${g(null===(p=C.HZ[d])||void 0===p?void 0:p.replace(/\s/g,"-"),{defaultValue:C.HZ[d]})} \r\n${[R,_].join(" ")}`:j.GR;Number(c)&&(E=`${x("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===i?"<=":">=",(0,f.uf)(c,Z)].join(" ")}`);const M=C.Y1.includes(r)?j.GR:(0,f.uf)(s,Z),A=C.cQ.includes(n)?l:"TRAILING_STOP_MARKET"===r?c||V:s;let L,H=e;return S&&(L=(0,v.H)(S,x),H=L.shortName),{nextDate:(0,b.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:H,symbolName:L,nextType:g(`type-${r}`,{defaultValue:r})||r,nextPrice:M,nextAmount:w({quantity:o,price:A,qtyPrecision:P}),nextFilled:w({quantity:a,price:u,qtyPrecision:P}),nextTriggerConditions:E}})(e);var T=i(76940),V=i(68075),R=i(61750),N=i(14202),_=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const E=(0,j.nM)(),M=(0,j.nM)(),A=e=>M?function({symbol:e,side:t,quantity:i,type:n,price:r,stopPrice:s,avgPrice:o,closePosition:a}){const{getI18n:l}=(0,I.Z)(),{getI18n:d}=(0,h.yk)(),{isCoinUnit:c}=(0,w.Q)(),u=(0,m.AM)()[e]||{},{equalQtyPrecision:p,marginAsset:g,contractVal:x=100,quantityPrecision:y,close:v}=u,b=d("Cont",{defaultValue:"Cont"}),j=l("closePosition",{defaultValue:"Close Positioin"}),O=C.cQ.includes(n)?s:"MARKET"===n?o||v:r,k=c?`${(0,S.unitChangeCoinQty)({quantity:i,contractVal:x,price:O,precision:p})} ${g}`:`${(0,f.uf)(i,y)} ${b}`;return{amount:a?j:k,sideProps:"BUY"===t?{color:"buy",children:l("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:l("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:i,type:n,price:r,stopPrice:s,avgPrice:o,closePosition:a}){const{getI18n:l}=(0,I.Z)(),d=(0,m.AM)()[e]||{},{getFormatedQuantity:c}=(0,k.s7)(d),{quantityPrecision:u,close:p}=d,g=l("closePosition",{defaultValue:"Close Positioin"}),h=c({quantity:i,price:C.cQ.includes(n)?s:"MARKET"===n?o||p:r,qtyPrecision:u});return{amount:a?g:h,sideProps:"BUY"===t?{color:"buy",children:l("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:l("sideSell",{defaultValue:"Sell"})}}}(e);var L=i(2724),H=i(8638),B=i(86370),F=i(20512),G=i(50634),z=i(39877),D=i(66264),$=i(23299),K=i(49967),Y=i(84183);const U=({mainOrder:e,subOrders:t})=>{const i="light"===(0,m.Fg)(),r=2===(null==t?void 0:t.length);return(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},{children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0),(0,n.jsx)("path",{d:"M252 27 L382 27 L382 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0)]},void 0):(0,n.jsx)("path",{d:"M252 0 L252 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0)}),void 0),(0,n.jsx)(l.Z,Object.assign({justifyContent:r?"space-between":"center"},{children:t}),void 0)]},void 0)},q=({mainOrder:e,subOrders:t})=>{const i=2===t.length?380:190,r="light"===(0,m.Fg)();return(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsxs)(l.Z,Object.assign({justifyContent:"start"},{children:[(0,n.jsx)("svg",Object.assign({width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${i}`,xmlns:"http://www.w3.org/2000/svg"},{children:2===(null==t?void 0:t.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:`M15 0 L15 ${i/4} L30 ${i/4}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0),(0,n.jsx)("path",{d:`M15 ${i/4} L15 ${3*i/4} L30 ${3*i/4}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0)]},void 0):(0,n.jsx)("path",{d:`M15 0 L15 ${i/2} L30 ${i/2}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0)}),void 0),(0,n.jsx)(a.Z,Object.assign({sx:{width:"calc(100% - 30px)"}},{children:t}),void 0)]}),void 0)]},void 0)},W=e=>(0,n.jsx)(L.Z,{children:({isMobile:t})=>t?(0,n.jsx)(q,Object.assign({},e),void 0):(0,n.jsx)(U,Object.assign({},e),void 0)},void 0);var Q=i(72779),X=i.n(Q),J=i(95970),ee=i(97398),te=i(19107);const ie=e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},ne=["LIMIT","STOP","TAKE_PROFIT"],re={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},se={height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"},backgroundColor:"transparent",justifyContent:"end"},oe=({order:e={},subOrderLength:t})=>{const{getI18n:i}=(0,I.Z)(),{getI18n:s}=(0,h.yk)(),{type:o,status:l,price:d,reduceOnly:c}=e,{useStrategyOrder:u}=(0,r.useContext)(B.Z),{amount:p,sideProps:g}=u(e);return(0,n.jsxs)(a.Z,Object.assign({sx:re},{children:[(0,n.jsx)("div",Object.assign({className:"description"},{children:1===t?i("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):i("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})}),void 0),(0,n.jsxs)("div",Object.assign({className:"card orderA"},{children:[(0,n.jsx)("div",Object.assign({className:"title"},{children:i("orderA",{defaultValue:"Order A"})}),void 0),(0,n.jsxs)("div",Object.assign({className:"content"},{children:[(0,n.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third",className:"type"},{children:i(`type-${o}`,{defaultValue:o})}),void 0),(0,n.jsx)(F.Z,Object.assign({fontSize:0,color:"t.third",className:"status"},{children:i(`status-${ie(l)}`,{defaultValue:l})}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:i("side",{defaultValue:"Side"})}),void 0),(0,n.jsx)(F.Z,Object.assign({},g),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:i("amount",{defaultValue:"Amount"})}),void 0),(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:p}),void 0)]}),void 0),ne.includes(o)&&(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:i("price",{defaultValue:"Price"})}),void 0),(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:d}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:i("reduceOnly",{defaultValue:"Reduce Only"})}),void 0),(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:s(c?"openOrder-true":"openOrder-false",{defaultValue:c?"True":"False"})}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)},ae=({step:e,tickSizePrecision:t,order:i,changeOrder:s,index:o,subOrderLength:l})=>{const{getI18n:d}=(0,I.Z)(),{getI18n:c}=(0,h.yk)(),{type:u,status:p,stopPrice:g,workingType:x,price:m,reduceOnly:y}=i||{},{useStrategyOrder:f}=(0,r.useContext)(B.Z),{amount:v,sideProps:b}=f(i),j="PENDING"===p,O={CONTRACT_PRICE:d("Last-Price",{defaultValue:"Last Price"}),MARK_PRICE:d("Mark-Price",{defaultValue:"Mark Price"})},C=(0,r.useCallback)((e=>{(0,ee._p)(e,(e=>s(Object.assign(Object.assign({},i),{stopPrice:e}),o)),"",t)}),[s,i,t,o]),S=(0,r.useCallback)((e=>s(Object.assign(Object.assign({},i),{workingType:e}),o)),[s,i,o]);return(0,n.jsxs)(a.Z,Object.assign({sx:re},{children:[0===o&&(0,n.jsx)("div",Object.assign({className:"description"},{children:2===l?d("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""}),void 0),1===o&&(0,n.jsx)("div",Object.assign({className:"description"},{children:2===l?d("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""}),void 0),(0,n.jsxs)("div",Object.assign({className:X()({orderB:0===o,orderC:1===o,only:1===l,card:!0})},{children:[(0,n.jsx)("div",Object.assign({className:"title"},{children:d(0===o?"orderB":"orderC",{defaultValue:0===o?"Order B":"Order C"})}),void 0),(0,n.jsxs)("div",Object.assign({className:"content"},{children:[(0,n.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,n.jsx)(F.Z,Object.assign({fontSize:2,color:"t.primary"},{children:d(`type-${u}`,{defaultValue:u})}),void 0),(0,n.jsx)(F.Z,Object.assign({fontSize:0,color:"t.third"},{children:d(`status-${ie(p)}`,{defaultValue:p})}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("side",{defaultValue:"Side"})}),void 0),(0,n.jsx)(F.Z,Object.assign({},b),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("amount",{defaultValue:"Amount"})}),void 0),(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:v}),void 0)]}),void 0),ne.includes(u)&&(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("price",{defaultValue:"Price"})}),void 0),(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:m}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row "+(j?"editable":"")},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("triggerPrice",{defaultValue:"Trigger Price"})}),void 0),j?(0,n.jsx)(J.Z,{type:"number",variant:"outline",step:e,value:g,onChange:C,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}},void 0):(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:g}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row "+(j?"editable":"")},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("trigger",{defaultValue:"Trigger"})}),void 0),j?(0,n.jsx)(te.Z,{sx:se,workingType:x,changeWorkingType:S},void 0):(0,n.jsx)(F.Z,Object.assign({color:"t.primary"},{children:O[x]}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(F.Z,Object.assign({color:"t.third"},{children:d("reduceOnly",{defaultValue:"Reduce Only"})}),void 0),(0,n.jsxs)(F.Z,Object.assign({color:"t.primary"},{children:[" ",c(y?"openOrder-true":"openOrder-false",{defaultValue:y?"True":"False"})]}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)};var le=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const de=r.memo((e=>{const{getI18n:t,i18n:{language:i}}=(0,I.Z)(),{isMobile:s,visible:o,order:c={},onClose:p}=e,h=(0,m.AM)()[c.symbol]||{},x=(0,Y.p)(h.tickSize),y=h.tickSize,f=!u()(c)&&o,[v,b]=(0,r.useState)(!1),[j,O]=(0,r.useState)({}),[C,S]=(0,r.useState)({}),[k,w]=(0,r.useState)([]),Z=(0,r.useCallback)(((e,t)=>{const i=k.map(((i,n)=>n===t?e:i));w(i)}),[k]),P=(0,r.useCallback)((()=>le(void 0,void 0,void 0,(function*(){const{strategyId:e,strategyType:t}=c;b(!0);const i=yield(0,D.Su)({strategyId:e,strategyType:t});b(!1);const{success:n,data:r}=i;n&&r&&(O(r),S(r.subOrders[0]),"OTOCO"===r.strategyType?w(r.subOrders.slice(1,3)):w(r.subOrders.slice(1,2)))}))),[c]);(0,r.useEffect)((()=>{f?P():(O({}),S({}),w([]))}),[P,f]);const{enqueueNotification:T}=(0,g.Z)(),V=(0,r.useCallback)((e=>le(void 0,void 0,void 0,(function*(){"STOP_MARKET"!==e.type&&"TAKE_PROFIT_MARKET"!==e.type||delete e.price,delete e.status;const{success:n,message:r}=yield(0,D.ZX)(e,{language:i});n&&T({message:t("update-strategy-suc"),variant:"success"})}))),[t,i,T]),R=(0,r.useCallback)((()=>{const{strategyType:e}=j,t=[];k.forEach(((i,n)=>{(function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType})(i,j.subOrders[n+1])&&t.push(V(Object.assign(Object.assign({},i),{strategyType:e})))})),Promise.all(t).finally(p)}),[p,j,k,V]);return(0,n.jsxs)(G.Z,Object.assign({open:f,onCloseIconClick:p,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},{children:[(0,n.jsx)(a.Z,Object.assign({as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},{children:t("strategyOrder",{defaultValue:"Strategy Order"})}),void 0),(0,n.jsxs)(a.Z,Object.assign({sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},{children:[(0,n.jsxs)(a.Z,Object.assign({sx:{minHeight:"400px"}},{children:[(0,n.jsx)(K.Z,{inner:!0,show:v},void 0),(0,n.jsx)(W,{mainOrder:(0,n.jsx)(oe,{order:C,subOrderLength:k.length},void 0),subOrders:k.map(((e,t)=>(0,n.jsx)(ae,{index:t,tickSizePrecision:x,step:Number(y),order:e,changeOrder:Z,subOrderLength:k.length},e.strategySubId)))},void 0),(0,n.jsxs)(l.Z,Object.assign({alignItems:"start",mt:"md",color:"t.third"},{children:[(0,n.jsx)($.Z,{size:32,mr:"xs",height:"0.5em"},void 0),(0,n.jsx)(F.Z,Object.assign({fontSize:"14px",lineHeight:"16px"},{children:"OTOCO"===j.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")}),void 0)]}),void 0)]}),void 0),s&&(0,n.jsx)(a.Z,{sx:{width:"100%",height:"64px"}},void 0),(0,n.jsx)(z.y,Object.assign({sx:{bg:"popupBg"}},{children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(d.Z,Object.assign({flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:p},{children:t("cancel",{defaultValue:"Cancel"})}),void 0),(0,n.jsx)(d.Z,Object.assign({flex:"auto",onClick:R,height:"40px"},{children:t("confirm",{defaultValue:"Confirm"})}),void 0)]},void 0)}),void 0)]}),void 0)]}),void 0)}));var ce=i(289),ue=i(41268);const pe=r.memo((({order:e,onClose:t})=>{const{symbol:i,side:s,positionSide:o,modifyParams:a={},onConfirm:l}=e,{positionMode:d=!1}=(0,m.F7)(),{getI18n:c}=(0,h.yk)(),[u,p]=(0,ce.g)(j.Zv,j.Xd),{limitPrice:g,qty:x,amendedField:y}=a,f="BUY"===s?"buy":"sell",v=(({side:e,positionSide:t,getFutI18n:i,positionMode:n})=>{const r=i("buyLong",{defaultValue:"Buy/Long"}),s=i("sellShort",{defaultValue:"Sell/Short"}),o=i("OpenLong",{defaultValue:"Open Long"}),a=i("OpenShort",{defaultValue:"Open Short"}),l=i("CloseShort",{defaultValue:"Close Short"}),d=i("CloseLong",{defaultValue:"Close Long"});let c;return c=n?"BUY"===e?"SHORT"===t?l:o:"SHORT"===t?a:d:"BUY"===e?r:s,c})({side:s,positionSide:o,getFutI18n:c,positionMode:d}),b=(0,r.useCallback)((()=>{const e=Object.assign(Object.assign({},u),{needConfirm:!1});p(e)}),[p,u]);return(0,n.jsx)(ue.Z,{symbol:i,title:v,color:f,amendedField:y,isMarket:!1,limitPrice:g,qty:x,isClose:!1,onClose:t,onConfirm:l,closeTip:b,orderSide:s},void 0)}));var ge=i(83166),he=i(86778);const xe=r.memo((({hasData:e})=>{const{getI18n:t}=(0,I.Z)(),{getI18n:i}=(0,h.yk)(),{handleHideOtherPairs:s,checked:o,actionCancel:a}=(0,r.useContext)(B.Z);return(0,n.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,n.jsxs)(l.Z,Object.assign({sx:{alignItems:"center",color:"t.third"},onClick:()=>s(!o)},{children:[(0,n.jsx)(he.Z,{name:"hideOtherSymbol",checked:o,onChange:()=>!1},void 0),(0,n.jsx)(F.Z,Object.assign({variant:"caption",sx:{userSelect:"none"}},{children:i("hideOtherSymbol")}),void 0)]}),void 0),(0,n.jsx)(F.Z,Object.assign({onClick:e?()=>{a(0,t("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}:void 0,variant:"caption",sx:{color:e?"t.yellow":"t.third"}},{children:t("action",{defaultValue:"Cancel All"})}),void 0)]}),void 0)}));var me=i(74568);const ye=({children:e})=>(0,n.jsx)(F.Z,Object.assign({variant:"caption",__css:{color:"t.third"}},{children:e}),void 0),fe=e=>{var{color:t="t.primary"}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["color"]);return(0,n.jsx)(F.Z,Object.assign({variant:"captionSub",color:t},i),void 0)},ve=({children:e,sx:t})=>(0,n.jsx)(l.Z,Object.assign({className:"row-item",sx:t},{children:e}),void 0),be=({orderId:e,symbolName:t,side:i,positionSide:s,nextPair:o,nextType:a,actionCancel:l})=>{const{getI18n:d}=(0,I.Z)(),c=(0,r.useCallback)((()=>{l((({orderId:t})=>e===t))}),[l,e]);return(0,n.jsxs)(ve,Object.assign({sx:{pb:"10px !important"}},{children:[(0,n.jsxs)("div",Object.assign({className:"symbol-wrap"},{children:[t?(0,n.jsxs)("div",Object.assign({className:"symbolText"},{children:[(0,n.jsx)("div",Object.assign({className:"symbol"},{children:t.symbol}),void 0),(0,n.jsx)("div",{children:`${t.contractTypeI18n} ${t.deliveryDateFormat}`},void 0)]}),void 0):(0,n.jsx)("div",Object.assign({className:"symbolText"},{children:o}),void 0),(0,n.jsx)(F.Z,Object.assign({variant:"caption",sx:{color:"BUY"===i?"buy":"sell"}},{children:"BUY"===i?`${a} / ${d(`sideBuy${s}`,{defaultValue:"Buy"})}`:`${a} / ${d(`sideSell${s}`,{defaultValue:"Sell"})}`}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"cancel-order",onClick:c},{children:d("cancel",{defaultValue:"Cancel"})}),void 0)]}),void 0)},je=({nextDate:e})=>{const{getI18n:t}=(0,I.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ye,{children:t("date",{defaultValue:"Date"})},void 0),(0,n.jsx)(fe,{children:e},void 0)]},void 0)},Oe=({strategyId:e,strategyType:t,actionStrategyModal:i,order:s})=>{const{getI18n:o}=(0,I.Z)(),a=("OTOCO"===t||"OTO"===t)&&e,l=(0,r.useCallback)((()=>{i(s)}),[i,s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ye,{children:o("strategy",{defaultValue:"Strategy"})},void 0),a?(0,n.jsx)("div",Object.assign({className:"strategy-view",onClick:l},{children:o("strategyView",{defaultValue:"View"})}),void 0):(0,n.jsx)(F.Z,{children:"--"},void 0)]},void 0)},Ce=(0,r.memo)((e=>{const{orderId:t,side:i,reduceOnly:s,positionSide:o="BOTH",closePosition:a,strategyId:d,strategyType:c,timeInForce:u,type:p,activatePrice:g,priceRate:x,workingType:m}=e,{getI18n:y}=(0,I.Z)(),{getI18n:f}=(0,h.yk)(),{actionCancel:v,actionStrategyModal:b,useColumn:j}=(0,r.useContext)(B.Z),O=j(e),{symbolName:C,nextPair:S,nextFilled:k,nextDate:w,nextPrice:Z,nextAmount:P,nextType:T,nextTriggerConditions:V}=O,R=y("closePosition",{defaultValue:"Close Position"}),N=(0,r.useMemo)((()=>[{label:y("filled",{defaultValue:"Filled"}),value:k},{label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:s?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,k,s,f,u]);return(0,n.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,n.jsx)(be,{orderId:t,symbolName:C,side:i,positionSide:o,nextPair:S,nextType:T,actionCancel:v},void 0),(0,n.jsxs)(ve,{children:[(0,n.jsx)(ye,{children:y("price",{defaultValue:"Price"})},void 0),(0,n.jsx)(fe,{children:Z},void 0)]},"price"),(0,n.jsxs)(ve,{children:[(0,n.jsx)(ye,{children:y("amount",{defaultValue:"Amount"})},void 0),(0,n.jsx)(fe,{children:a?R:P},void 0)]},"amount"),N.map((({label:e,value:t})=>(0,n.jsxs)(ve,{children:[(0,n.jsx)(ye,{children:e},void 0),(0,n.jsx)(fe,{children:t},void 0)]},e))),(0,n.jsxs)(ve,{children:[(0,n.jsx)(ye,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})},void 0),(0,n.jsxs)(l.Z,Object.assign({alignItems:"center"},{children:[(0,n.jsx)(fe,{children:V},void 0),(0,n.jsx)(me.Z,{type:p,workingType:m,activatePrice:g,priceRate:x},void 0)]}),void 0)]},"triggerConditions"),(0,n.jsx)(ve,{children:(0,n.jsx)(Oe,{strategyId:d,strategyType:c,actionStrategyModal:b,order:e},void 0)},"tpsl"),(0,n.jsx)(ve,{children:(0,n.jsx)(je,{nextDate:w},void 0)},"date")]}),void 0)})),Se=(0,r.memo)((e=>{const{orderId:t,side:i,reduceOnly:s,positionSide:o="BOTH",closePosition:a,strategyId:d,strategyType:c,timeInForce:u,type:p,activatePrice:g,priceRate:x,workingType:m}=e,{getI18n:y}=(0,I.Z)(),{getI18n:f}=(0,h.yk)(),{actionCancel:v,actionStrategyModal:b,useColumn:j}=(0,r.useContext)(B.Z),O=j(e),{symbolName:C,nextPair:S,nextFilled:k,nextDate:w,nextPrice:Z,nextAmount:P,nextType:T,nextTriggerConditions:V}=O,R=y("closePosition",{defaultValue:"Close Position"}),N=(0,r.useMemo)((()=>[{columnKey:"filled",label:y("filled",{defaultValue:"Filled"}),value:k},{columnKey:"reduceOnly",label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:s?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{columnKey:"postOnly",label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,k,s,f,u]);return(0,n.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,n.jsx)(be,{orderId:t,symbolName:C,side:i,positionSide:o,nextPair:S,nextType:T,actionCancel:v},void 0),(0,n.jsxs)("div",Object.assign({className:"row-grid"},{children:[(0,n.jsxs)("div",Object.assign({className:"price"},{children:[(0,n.jsx)(ye,{children:y("price",{defaultValue:"Price"})},void 0),(0,n.jsx)(fe,{children:Z},void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"amount"},{children:[(0,n.jsx)(ye,{children:y("amount",{defaultValue:"Amount"})},void 0),(0,n.jsx)(fe,{children:a?R:P},void 0)]}),void 0),N.map((({label:e,value:t,columnKey:i})=>(0,n.jsxs)("div",Object.assign({className:i},{children:[(0,n.jsx)(ye,{children:e},void 0),(0,n.jsx)(fe,{children:t},void 0)]}),i))),(0,n.jsxs)("div",Object.assign({className:"triggerConditions"},{children:[(0,n.jsxs)(l.Z,Object.assign({alignItems:"center",justifyContent:"flex-end"},{children:[(0,n.jsx)(ye,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})},void 0),(0,n.jsx)(me.Z,{type:p,workingType:m,activatePrice:g,priceRate:x},void 0)]}),void 0),(0,n.jsx)(fe,{children:V},void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"tpsl"},{children:(0,n.jsx)(Oe,{strategyId:d,strategyType:c,actionStrategyModal:b,order:e},void 0)}),void 0),(0,n.jsx)("div",Object.assign({className:"date"},{children:(0,n.jsx)(je,{nextDate:w},void 0)}),void 0)]}),void 0)]}),void 0)})),ke={position:"relative",flexDirection:"column",flex:"1 0",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:102,borderBottom:"none"},"& .row-item":{justifyContent:"space-between",alignItems:"center",py:"minor"},"& .symbol-wrap":{display:"flex",flexDirection:"column",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},Ie={position:"relative",flexDirection:"column",height:"100%",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-list":{height:"calc(100% - 32px)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:15,borderBottom:"none"},".row-grid":{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gridGap:"12px 16px",gridTemplateAreas:'"price amount filled"\n        "reduceOnly postOnly triggerConditions"\n        "tpsl date ."',"& .filled, & .triggerConditions":{textAlign:"right"}},"& .row-item":{justifyContent:"space-between",alignItems:"center"},"& .symbol-wrap":{display:"flex",alignItems:"center",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center",mr:"xs"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},we=r.memo((({isMobile:e,outLoading:t,items:i,girdLoading:s})=>{const{emptyText:o}=(0,r.useContext)(B.Z);return(0,n.jsxs)(l.Z,Object.assign({sx:e?ke:Ie},{children:[(0,n.jsx)(K.Z,{fullScreen:!0,show:t},void 0),(0,n.jsx)(xe,{hasData:(null==i?void 0:i.length)>0},void 0),s||i&&i.length?(0,n.jsx)(n.Fragment,{children:e?i.map(((e,t)=>(0,n.jsx)(Ce,Object.assign({},e),t))):(0,n.jsx)("div",Object.assign({className:"row-list"},{children:i.map(((e,t)=>(0,n.jsx)(Se,Object.assign({},e),t)))}),void 0)},void 0):(0,n.jsx)(ge.pB,Object.assign({className:"empty"},{children:o}),void 0)]}),void 0)}));var Ze=i(78837),Pe=i(85818),Te=i(15836),Ve=i(76743);const Re=r.memo((({hasData:e,headers:t=[],style:i})=>{const{actionCancel:s}=(0,r.useContext)(B.Z),{getI18n:o}=(0,I.Z)(),l=()=>{s(0,o("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))};return(0,n.jsx)("div",Object.assign({className:"openOrderRow header",style:i},{children:t.filter((e=>e.defaultChecked)).map((({text:t,overlay:i,key:r})=>(0,n.jsx)("div",Object.assign({className:r},{children:i?(0,n.jsx)(Te.ZP,Object.assign({trigger:"hover",placement:"bottom-end",enablePortal:!0,overlay:e?i:null,sx:{userSelect:"none",display:"flex"}},{children:(0,n.jsxs)(a.Z,Object.assign({sx:{display:"flex",height:"24px",alignItems:"center",justifyContent:"center"}},{children:[(0,n.jsx)(d.Z,Object.assign({variant:"quiet",sz:"s",sx:{px:0,whiteSpace:"break-spaces"},onClick:e?l:void 0},{children:t}),void 0),(0,n.jsx)(Ve.Z,{size:20,sx:{color:"t.third",cursor:"pointer",display:"inline-block"}},void 0)]}),void 0)}),r):(0,n.jsx)(F.Z,Object.assign({title:t,sx:{fontSize:0,color:"t.third",display:"inline-flex",alignItems:"center",justifyContent:"flex-start"},onClick:i&&e?l:void 0},{children:t}),void 0)}),r)))}),void 0)}));var Ne=i(15794),_e=i(57808);const Ee=r.memo((()=>{const{getI18n:e}=(0,h.yk)(),{handleHideOtherPairs:t,checked:i}=(0,r.useContext)(B.Z),s=e("hideOtherSymbol",{defaultValue:"Hide Other Symbol"});return(0,n.jsxs)(_e.Z,Object.assign({sx:{fontSize:[1,0],color:"t.third",cursor:["auto","auto","pointer"],lineHeight:["unset","24px","24px"]}},{children:[(0,n.jsx)(he.Z,{checked:i,onChange:()=>t(!i)},void 0),(0,n.jsx)(F.Z,Object.assign({sx:{userSelect:"none"}},{children:s}),void 0)]}),void 0)}));var Me=i(49393),Ae=i(49287),Le=i(23187),He=i(70810);const Be={padding:"16px",bg:"popupBg",boxShadow:"elevation2",borderRadius:"4px",".check-header":{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px","& .name":{color:"t.secondary",fontWeight:"500",marginRight:"16px"}},".sort-header":{color:"t.third",display:"flex",justifyContent:"flex-start",alignItems:"center","& .back":{marginLeft:"8px",cursor:"pointer",fontSize:"12px"}}},Fe=["reduceOnly","postOnly","strategy"],Ge=(0,r.memo)((({headers:e=[],onSort:t,onCheck:i})=>{const s=e.map((e=>Object.assign(Object.assign({},e),{value:e.key,label:e.text}))),o=s.filter((e=>e.sortable&&e.defaultChecked)).map((e=>Object.assign(Object.assign({},e),{label:e.text}))),l=s.filter((e=>e.checkable));l.sort(((e,t)=>Fe.indexOf(e.value)-Fe.indexOf(t.value)));const{getI18n:d}=(0,h.yk)(),[c,u]=(0,r.useState)("check");return"check"===c?(0,n.jsxs)(a.Z,Object.assign({__css:Be,onClick:e=>e.stopPropagation()},{children:[(0,n.jsxs)("div",Object.assign({className:"check-header"},{children:[(0,n.jsxs)(F.Z,Object.assign({variant:"captionSub",className:"name"},{children:[" ",d("openOrder-preferenceTitle",{defaultValue:"Open Orders Preference"})]}),void 0),(0,n.jsx)("div",Object.assign({className:"action"},{children:(0,n.jsx)(Le.Z,Object.assign({variant:"defaultLink",__css:{cursor:"pointer"},onClick:e=>{e.stopPropagation(),u("sort")}},{children:d("positions-preferenceSort")}),void 0)}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"list"},{children:(0,n.jsx)(Me.Z,{options:l,getValue:e=>{const n=Object.keys(e)[0],r=e[n];i&&i(l.map((e=>e.value===n?Object.assign(Object.assign({},e),{defaultChecked:r}):e)).filter((e=>e.defaultChecked)).map((e=>e.value)));let s=o.map((e=>e.value));r?s.push(n):s=s.filter((e=>e!==n)),t&&t(s.concat(n))}},void 0)}),void 0)]}),void 0):(0,n.jsxs)(a.Z,Object.assign({__css:Be,onClick:e=>e.stopPropagation()},{children:[(0,n.jsxs)("div",Object.assign({className:"sort-header"},{children:[(0,n.jsx)(He.Z,{size:16,onClick:()=>{u("check")}},void 0),(0,n.jsx)("div",Object.assign({className:"back",onClick:()=>{u("check")}},{children:d("positions-preferenceBack")}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"list"},{children:(0,n.jsx)(Ae.Z,{items:o,onSort:e=>{t&&t(e)}},void 0)}),void 0)]}),void 0)})),ze=r.memo((({headers:e,onCheck:t,onSort:i})=>(0,n.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,n.jsx)(Ee,{},void 0),(0,n.jsx)(Te.ZP,Object.assign({trigger:"click",sx:{marginLeft:16,marginTop:"4px"},overlay:(0,n.jsx)(Ge,{headers:e,onCheck:t,onSort:i},void 0),overlayProps:{marginBottom:"8px"},placement:"top",enablePortal:!0},{children:(0,n.jsx)(Ne.Z,{mr:"8px",fontSize:"20px",sx:{color:"icons.close",cursor:"pointer","&:hover path":{fill:"t.third"}}},void 0)}),void 0)]}),void 0)));var De=i(66068),$e=i(24071);const Ke=({order:e})=>{const{getI18n:t}=(0,I.Z)(),{actionStrategyModal:i}=(0,r.useContext)(B.Z),{strategyId:s,strategyType:o}=e;return"OTOCO"!==o&&"OTO"!==o||!s?(0,n.jsx)("div",Object.assign({className:"strategy"},{children:"--"}),void 0):(0,n.jsx)("div",Object.assign({className:"strategy valid",onClick:()=>i(e)},{children:t("strategyView",{defaultValue:"View"})}),void 0)},Ye=r.memo((e=>{const{symbol:t,orderId:i,side:s,reduceOnly:o,positionSide:a="BOTH",closePosition:l,timeInForce:d,type:c,activatePrice:u,priceRate:p,workingType:g}=e,{getI18n:h}=(0,I.Z)(),{actionCancel:x,changeSymbol:m,useColumn:y,headers:f}=(0,r.useContext)(B.Z),v=y(e),b=h("closePosition",{defaultValue:"Close Position"}),{nextDate:j,symbolName:O,nextPrice:C,nextAmount:S,nextType:k}=v,{nextFilled:w,nextTriggerConditions:Z}=v;return(0,n.jsx)("div",Object.assign({className:"openOrderRow body"},{children:f.filter((e=>e.defaultChecked)).map((r=>{const{key:y}=r;switch(y){case"time":return(0,n.jsx)("div",Object.assign({className:"time"},{children:j}),y);case"symbol":return(0,n.jsx)("div",Object.assign({className:"symbol",onClick:()=>{m({symbol:t})}},{children:(0,n.jsx)($e.O,{symbolName:O,fallbackText:t},void 0)}),y);case"type":return(0,n.jsx)("div",Object.assign({className:"type"},{children:k}),y);case"side":return(0,n.jsx)("div",Object.assign({className:"side side-"+("BUY"===s?"buy":"sell")},{children:"BUY"===s?h(`sideBuy${a}`,{defaultValue:"Buy"}):h(`sideSell${a}`,{defaultValue:"Sell"})}),y);case"price":return(0,n.jsx)("div",Object.assign({className:"price"},{children:C}),y);case"amount":return(0,n.jsx)("div",Object.assign({className:"amount"},{children:l?b:S}),y);case"filled":return(0,n.jsx)("div",Object.assign({className:"filled"},{children:w}),y);case"reduceOnly":return(0,n.jsx)("div",Object.assign({className:"reduceOnly"},{children:o?h("YES",{defaultValue:"YES"}):h("NO",{defaultValue:"NO"})}),y);case"postOnly":return(0,n.jsx)("div",Object.assign({className:"postOnly"},{children:"GTX"===d?h("YES",{defaultValue:"YES"}):h("NO",{defaultValue:"NO"})}),y);case"conditions":return(0,n.jsxs)("div",Object.assign({className:"conditions"},{children:[(0,n.jsx)("div",Object.assign({style:{whiteSpace:"pre",textAlign:"left"}},{children:Z}),void 0),(0,n.jsx)(me.Z,{type:c,workingType:g,activatePrice:u,priceRate:p},void 0)]}),y);case"strategy":return(0,n.jsx)(Ke,{order:e},y);case"action":return(0,n.jsx)("div",Object.assign({className:"action"},{children:(0,n.jsx)(De.Z,{sx:{cursor:"pointer",color:"t.third","&:hover":{color:"t.primary"}},size:20,onClick:()=>{x((({orderId:e})=>i===e))}},void 0)}),y);default:return null}}))}),void 0)})),Ue={time:115,symbol:85,type:100,side:85,price:100,amount:110,filled:120,reduceOnly:90,postOnly:80,conditions:112,strategy:55,action:70},qe=e=>({width:`${e}px`,flex:`1 0 ${e}px`}),We={flexDirection:"column",height:"100%",overflowX:"auto",overflowY:"hidden",".action-bar":{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:0,right:"16px",zIndex:"999",height:"40px","&.fullscreen":{right:"12px"}},".openOrderRow":{my:0,py:0,display:"flex",alignItems:"center",flex:"none",color:"t.secondary",fontSize:[0],cursor:"auto",width:"100%",height:"40px",boxSizing:"border-box",borderBottom:"1px solid",borderBottomColor:"newLine","&.header":{height:"32px"},"&.body":{":hover":{backgroundColor:"bg3",".symbol":{color:"t.yellow"}},".symbol":{cursor:"pointer"},".side":{"&-buy":{color:"buy"},"&-sell":{color:"sell"}},".strategy.valid":{color:"t.yellow200",cursor:"pointer",":hover":{color:"t.yellow300"}},".price, .amount, .conditions":{display:"flex",alignItems:"center"}},".time":Object.assign({},qe(Ue.time)),".symbol":Object.assign({},qe(Ue.symbol)),".type":Object.assign({},qe(Ue.type)),".side":Object.assign({},qe(Ue.side)),".price":Object.assign({},qe(Ue.price)),".amount":Object.assign({},qe(Ue.amount)),".filled":Object.assign({},qe(Ue.filled)),".reduceOnly":Object.assign({},qe(Ue.reduceOnly)),".postOnly":Object.assign({},qe(Ue.postOnly)),".conditions":Object.assign({},qe(Ue.conditions)),".strategy":Object.assign({},qe(Ue.strategy)),".action":Object.assign({},qe(Ue.action))}},Qe=e=>(0,n.jsx)(Ye,Object.assign({},e),void 0),Xe=(e,t)=>t[e].orderId,Je=({headers:e,onCheckHeader:t,onSortHeader:i,items:o=[],loading:a})=>{const{emptyText:d,actionCancel:c}=r.useContext(B.Z),u=(0,r.useMemo)((()=>{let t=0;return e.filter((e=>e.defaultChecked)).forEach((({key:e})=>{t+=Ue[e]||0})),{minWidth:t}}),[e]),{getI18n:p}=(0,I.Z)(),{getI18n:g}=(0,h.yk)(),{apiError:x,onRefresh:m}=(()=>{const e=(0,s.v9)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,s.v9)((e=>e.orders.openOrder.apiError)),i=(0,s.I0)(),n=(0,r.useCallback)((()=>{e||i.orders.queryOpenOrder()}),[e,i.orders]);return(0,r.useMemo)((()=>({loading:e,apiError:t,onRefresh:n})),[e,t,n])})(),y=(0,r.useCallback)((()=>{c(0,p("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}),[]);return(0,n.jsxs)(l.Z,Object.assign({sx:We},{children:[(0,n.jsx)(ze,{headers:e,onSort:i,onCheck:t},void 0),(0,n.jsx)(Re,{hasData:(null==o?void 0:o.length)>0,headers:e,style:u},void 0),(0,n.jsx)(Pe.v,Object.assign({apiError:x,confirmTip:g("openOrderErrorConfirmTip",{defaultValue:"Cancel all open orders here."}),onRefresh:m,onConfirm:y},{children:(0,n.jsx)(Ze.a,{direction:"xxx",dataSource:o,loading:a,loadWithContent:!0,listSx:u,itemElement:Qe,itemKey:Xe,itemHeight:40,emptyChildren:(0,n.jsx)(ge.pB,{children:d},void 0),scrollPerf:!1},void 0)}),void 0)]}),void 0)};var et=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};(0,j.nM)();const tt=[null,"LIMIT","STOP"],it=r.memo((()=>{const e="light"===(0,m.Fg)(),[t,{onCheckHeader:i,onSortHeader:c}]=(()=>{const{getI18n:e}=(0,I.Z)(),{getI18n:t}=(0,h.yk)(),[i,s]=(0,T.Z)(j.rR,["reduceOnly","postOnly","strategy"]),[o,a]=(0,T.Z)(j.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,r.useMemo)((()=>{const r=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:(0,n.jsx)(V.ZP,{},void 0),checkable:!1,sortable:!0}].map((e=>Object.assign(Object.assign({},e),{defaultChecked:!e.checkable||(null==i?void 0:i.includes(e.key))||!1})));return o&&r.sort(((e,t)=>o.indexOf(e.key)-o.indexOf(t.key))),r}),[e,t,i,o]),{onCheckHeader:s,onSortHeader:a}]})(),[y]=(0,m.z4)(),f=(0,s.I0)(),{enqueueNotification:v}=(0,g.Z)(),{getI18n:b}=(0,h.yk)(),{getI18n:O}=(0,I.Z)(),[C,S]=(0,r.useState)(""),[k,w]=(0,r.useState)({}),Z="traditional",{preOrders:M}=(0,m.E)(),F=(0,s.v9)((e=>e.loading.effects.orders.queryOpenOrder));(0,r.useEffect)((()=>{f.orders.queryOpenOrder()}),[]);const{loading:G,delOpenOrders:z}=E?(()=>{const[{loading:e},t]=(0,R.Z)(((e={})=>_(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,N.y)({type:e.type,symbol:e.symbol}):(0,N.r7)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})():(()=>{const[{loading:e},t]=(0,R.Z)(((e={})=>_(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,N.O9)({type:e.type,symbol:e.symbol}):(0,N.Ce)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})(),{isOrderHideOtherPairs:D}=(0,m.VX)(),[$,K]=(0,r.useState)(D),Y=(0,r.useCallback)((e=>{K(e),f.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[f.userProfile]),U=(0,x.Nm)(M,$,y),q=(0,m.d0)(),W=(0,r.useCallback)((e=>et(void 0,void 0,void 0,(function*(){const t="number"==typeof e?{batch:!0,type:tt[e],symbol:$?y:null}:U.filter((t=>e(t)))[0];u()(t)||(yield z(t))}))),[$,y,U,z]),Q=(0,r.useCallback)(((t,i)=>et(void 0,void 0,void 0,(function*(){i?H.ZP.show({isLight:e,color:Z,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(a.Z,Object.assign({px:1,pt:[0,"16px"],sx:{textAlign:"center"}},{children:[(0,n.jsx)(o.Z,{size:[60,96]},void 0),(0,n.jsx)("div",{children:i},void 0)]}),void 0),(0,n.jsxs)(l.Z,Object.assign({mt:"24px"},{children:[(0,n.jsx)(d.Z,Object.assign({sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>H.ZP.close()},{children:O("dialog-cancel",{defaultValue:"Cancel"})}),void 0),(0,n.jsx)(d.Z,Object.assign({sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{W(t),H.ZP.close()}},{children:O("dialog-confirm",{defaultValue:"Confirm"})}),void 0)]}),void 0)]},void 0)}):W(t)}))),[W,O,e,Z]),X=(0,r.useCallback)((e=>et(void 0,void 0,void 0,(function*(){const{success:t}=yield(0,p.nC)(e,{});t&&v({header:b("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}))),[b,v]),J=!U.length&&F,ee=(0,r.useCallback)((()=>{S(""),w({})}),[S,w]),te=(0,r.useCallback)((e=>{S("STRATEGY_ORDER"),w(e)}),[S,w]),ie=(0,r.useCallback)(((e,t,i)=>{S("MODIFY_ORDER"),w(Object.assign(Object.assign({},e),{modifyParams:t,onConfirm:i}))}),[S,w]),ne=O("nodata",{defaultValue:"You have no open orders."}),re=(0,r.useMemo)((()=>({symbol:y,emptyText:ne,actionCancel:Q,actionModifyOrder:X,actionStrategyModal:te,actionModifyConfirmModal:ie,changeSymbol:q,handleHideOtherPairs:Y,checked:$,useColumn:P,useStrategyOrder:A,headers:t})),[Q,X,te,ie,q,$,ne,Y,y,t]);return(0,n.jsx)(B.Z.Provider,Object.assign({value:re},{children:(0,n.jsx)(a.Z,Object.assign({height:"100%",px:"sm"},{children:(0,n.jsx)(L.Z,{children:({isMobile:e,isIPad:r})=>(0,n.jsxs)(n.Fragment,{children:[r?(0,n.jsx)(we,{isMobile:e,items:U,girdLoading:J,outLoading:F||G},void 0):(0,n.jsx)(Je,{headers:t,onCheckHeader:i,onSortHeader:c,items:U,loading:F||G},void 0),"STRATEGY_ORDER"===C&&(0,n.jsx)(de,{isMobile:e,visible:!0,order:k,onClose:ee},void 0),"MODIFY_ORDER"===C&&(0,n.jsx)(pe,{order:k,onClose:ee},void 0)]},void 0)},void 0)}),void 0)}),void 0)}))},74568:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(52322),r=i(23299),s=i(2784),o=i(48437),a=i(62252);const l=s.memo((({type:e,workingType:t,activatePrice:i,priceRate:s})=>{const{getI18n:l,i18n:{language:d}}=(0,a.yk)();if("TRAILING_STOP_MARKET"!==e)return null;const c=l("trailing-stop-market-tip",{defaultValue:"Activation Price: {{activatePrice}}, Trigger Type: {{workingType}}, Callback Rate: {{priceRate}}%. ",activatePrice:Number(i)?Number(i):l("advancedStrategy-marketPrice"),workingType:l("CONTRACT_PRICE"===t?"lastPrice":"tradeHistory-positions-markPriceTitle"),priceRate:s});return(0,n.jsx)(o.m,Object.assign({hideUnderLine:!0,sx:{flex:"none"},learnMoreLink:`/${d}/support/faq/360042299292`,tip:c},{children:(0,n.jsx)(r.Z,{size:16},void 0)}),void 0)}))},20629:(e,t,i)=>{i.d(t,{i:()=>n});const n=({side:e,type:t})=>"BUY"===e&&"STOP"===t?">=":"SELL"===e&&"STOP"===t?"<=":"BUY"===e&&"STOP_MARKET"===t?">=":"SELL"===e&&"STOP_MARKET"===t||"BUY"===e&&"TAKE_PROFIT"===t?"<=":"SELL"===e&&"TAKE_PROFIT"===t?">=":"BUY"===e&&"TAKE_PROFIT_MARKET"===t?"<=":"SELL"===e&&"TAKE_PROFIT_MARKET"===t?">=":""},11628:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(2784),r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};const l=function(e){function t(){var e,i,n;r(this,t);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n._lastRenderedStartIndex=-1,n._lastRenderedStopIndex=-1,n._memoizedUnloadedRanges=[],n._onItemsRendered=function(e){var t=e.visibleStartIndex,i=e.visibleStopIndex;n._lastRenderedStartIndex=t,n._lastRenderedStopIndex=i,n._ensureRowsLoaded(t,i)},n._setRef=function(e){n._listRef=e},o(n,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var i=this.props,n=i.isItemLoaded,r=i.itemCount,s=i.minimumBatchSize,o=void 0===s?10:s,l=i.threshold,d=void 0===l?15:l,c=function(e){for(var t=e.isItemLoaded,i=e.itemCount,n=e.minimumBatchSize,r=e.stopIndex,s=[],o=null,a=null,l=e.startIndex;l<=r;l++)t(l)?null!==a&&(s.push([o,a]),o=a=null):(a=l,null===o&&(o=l));if(null!==a){for(var d=Math.min(Math.max(a,o+n-1),i-1),c=a+1;c<=d&&!t(c);c++)a=c;s.push([o,a])}if(s.length)for(var u=s[0];u[1]-u[0]+1<n&&u[0]>0;){var p=u[0]-1;if(t(p))break;u[0]=p}return s}({isItemLoaded:n,itemCount:r,minimumBatchSize:o,startIndex:Math.max(0,e-d),stopIndex:Math.min(r-1,t+d)});(this._memoizedUnloadedRanges.length!==c.length||this._memoizedUnloadedRanges.some((function(e,t){var i=a(e,2),n=i[0],r=i[1];return c[t][0]!==n||c[t][1]!==r})))&&(this._memoizedUnloadedRanges=c,this._loadUnloadedRanges(c))}},{key:"_loadUnloadedRanges",value:function(e){var t=this,i=this.props.loadMoreItems||this.props.loadMoreRows;e.forEach((function(e){var n=a(e,2),r=n[0],s=n[1],o=i(r,s);null!=o&&o.then((function(){if(!((e={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:r,stopIndex:s}).startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(r,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}var e}))}))}}]),t}(n.PureComponent)}}]);